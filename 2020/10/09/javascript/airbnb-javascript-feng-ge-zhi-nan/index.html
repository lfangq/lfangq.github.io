<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://b-gold-cdn.xitu.io/ionicons/2.0.1/fonts/ionicons.ttf?v=2.0.0/css?family=ionicons:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.lfangq.xyz","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="Types">
<meta property="og:type" content="article">
<meta property="og:title" content="Airbnb JavaScript 风格指南阅读笔记">
<meta property="og:url" content="https://www.lfangq.xyz/2020/10/09/javascript/airbnb-javascript-feng-ge-zhi-nan/index.html">
<meta property="og:site_name" content="lfangq博客">
<meta property="og:description" content="Types">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.lfangq.xyz/2020/10/09/javascript/airbnb-javascript-feng-ge-zhi-nan/0.png">
<meta property="article:published_time" content="2020-10-09T02:01:52.000Z">
<meta property="article:modified_time" content="2021-03-03T08:44:08.918Z">
<meta property="article:author" content="lfangq">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.lfangq.xyz/2020/10/09/javascript/airbnb-javascript-feng-ge-zhi-nan/0.png">

<link rel="canonical" href="https://www.lfangq.xyz/2020/10/09/javascript/airbnb-javascript-feng-ge-zhi-nan/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Airbnb JavaScript 风格指南阅读笔记 | lfangq博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">lfangq博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">16</span></a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.lfangq.xyz/2020/10/09/javascript/airbnb-javascript-feng-ge-zhi-nan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lfangq">
      <meta itemprop="description" content="记录生活中的点点滴滴">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfangq博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Airbnb JavaScript 风格指南阅读笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-09 10:01:52" itemprop="dateCreated datePublished" datetime="2020-10-09T10:01:52+08:00">2020-10-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-03 16:44:08" itemprop="dateModified" datetime="2021-03-03T16:44:08+08:00">2021-03-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="Types">Types</h3>
<a id="more"></a>
<h4 id="1-1-基本类型-你可以直接获取到基本类型的值">1.1 基本类型: 你可以直接获取到基本类型的值</h4>
<ul>
<li><code>string</code></li>
<li><code>number</code></li>
<li><code>boolean</code></li>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>symbol</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> bar = foo</span><br><span class="line"></span><br><span class="line">bar = <span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo, bar) <span class="comment">// =&gt; 1,9</span></span><br></pre></td></tr></table></figure>
<h4 id="1-2-复杂类型-复杂类型赋值是获取到他的引用的值。-相当于传引用">1.2 复杂类型: 复杂类型赋值是获取到他的引用的值。 相当于传引用</h4>
<ul>
<li><code>object</code></li>
<li><code>array</code></li>
<li><code>function</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">const</span> bar = foo</span><br><span class="line"></span><br><span class="line">bar[<span class="number">0</span>] = <span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="number">0</span>], bar[<span class="number">0</span>]) <span class="comment">// =&gt; 9, 9</span></span><br></pre></td></tr></table></figure>
<h4 id="1-3-javascript-判断数据类型方法">1.3 javascript 判断数据类型方法</h4>
<ul>
<li>typeof</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;&#x27;</span> <span class="comment">// =&gt; string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">1</span> <span class="comment">// =&gt; number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> <span class="comment">// =&gt; boolean</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>() <span class="comment">// =&gt; symbol</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">// =&gt; undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Function</span>() <span class="comment">// =&gt; function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>() <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> [] <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>() <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Error</span>() <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">document</span> <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">window</span> <span class="comment">// =&gt; object</span></span><br></pre></td></tr></table></figure>
<p>引用类型，除了 function 返回 function 类型外，其他都返回 object。但引用类型中的数组、日期、正则都有属于自己的具体类型，而 typeof 对于这些类型的处理，只返回了处于其原型链最顶端的 Object 类型。</p>
<ul>
<li>toString</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">&#x27;&#x27;</span>) <span class="comment">// =&gt;[object String]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">1</span>) <span class="comment">// =&gt; [object Number]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">true</span>) <span class="comment">// =&gt; [object Boolean]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">Symbol</span>()) <span class="comment">// =&gt;[object Symbol]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>) <span class="comment">// =&gt; [object Undefined]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>) <span class="comment">// =&gt; [object Null]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Function</span>()) <span class="comment">// =&gt; [object Function]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>()) <span class="comment">// =&gt; [object Date]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]) <span class="comment">// =&gt; [object Array]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">RegExp</span>()) <span class="comment">// =&gt; [object RegExp]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Error</span>()) <span class="comment">// =&gt; [object Error]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">document</span>) <span class="comment">// =&gt; [object HTMLDocument]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">window</span>) <span class="comment">// =&gt;[object global] window 是全局对象 global 的引用</span></span><br></pre></td></tr></table></figure>
<p>toString() 是 Object 的原型方法，调用该方法，默认返回当前对象的 [[Class]] 。这是一个内部属性，其格式为 [object Xxx] ，其中 Xxx 就是对象的类型。</p>
<p>对于 Object 对象，直接调用 toString() 就能返回 [object Object] 。而对于其他对象，则需要通过 call / apply 来调用才能返回正确的类型信息。</p>
<ul>
<li>constructor</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;</span>.constructor == <span class="built_in">String</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>).constructor == <span class="built_in">Number</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="literal">true</span>.constructor == <span class="built_in">Boolean</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Function</span>().constructor == <span class="built_in">Function</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>().constructor == <span class="built_in">Date</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Error</span>().constructor == <span class="built_in">Error</span> <span class="comment">// =&gt; true</span></span><br><span class="line">[].constructor == <span class="built_in">Array</span> <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="built_in">document</span>.constructor == HTMLDocument <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="built_in">window</span>.constructor == Window <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<p>constructor 是原型 prototype 的一个属性，当函数被定义时候，js 引擎会为函数添加原型 prototype，并且这个 prototype 中 constructor 属性指向函数引用， 因此重写 prototype 会丢失原来的 constructor。<br>
缺点：</p>
<ol>
<li>
<p>null 和 undefined 无 constructor，这种方法判断不了</p>
</li>
<li>
<p>还有，如果自定义对象，开发者重写 prototype 之后，原有的 constructor 会丢失，因此，为了规范开发，在重写对象原型时一般都需要重新给 constructor 赋值，以保证对象实例的类型不被篡改</p>
</li>
</ol>
<ul>
<li>
<p>instanceof</p>
<p>instanceof 是用来判断 A 是否为 B 的实例，表达式为：A instanceof B，如果 A 是 B 的实例，则返回 true,否则返回 false。 在这里需要特别注意的是：instanceof 检测的是原型</p>
</li>
</ul>
<p><img src="0.png" alt=""></p>
<p>由上图可以看出[]的原型指向 Array.prototype，间接指向 Object.prototype, 因此 [] instanceof Array 返回 true， [] instanceof Object 也返回 true。</p>
<p>instanceof 只能用来判断两个对象是否属于实例关系， 而不能判断一个对象实例具体属于哪种类型</p>
<h3 id="References">References</h3>
<h4 id="2-1-所有的赋值都用-const，避免使用var-eslint-prefer-const-no-const-assign">2.1 所有的赋值都用 const，避免使用<code>var</code>. eslint: <code>prefer-const</code>, <code>no-const-assign</code></h4>
<blockquote>
<p>Why? 因为这个确保你不会改变你的初始值，重复引用会导致 bug 和代码难以理解</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-如果你一定要对参数重新赋值，那就用let，而不是var-eslint-no-var">2.2 如果你一定要对参数重新赋值，那就用<code>let</code>，而不是<code>var</code>. eslint: <code>no-var</code></h4>
<blockquote>
<p>Why? 因为 let 是块级作用域，而 var 是函数级作用域</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  count += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good, use the let.</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  count += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-3-注意：-let、const-都是块级作用域">2.3 注意： <code>let</code>、<code>const</code> 都是块级作用域</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const 和 let 都只存在于它定义的那个块级作用域</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">  <span class="keyword">const</span> b = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// ReferenceError</span></span><br></pre></td></tr></table></figure>
<h3 id="Objects">Objects</h3>
<h4 id="3-1-使用字面值创建对象-eslint-no-new-object">3.1 使用字面值创建对象. eslint: <code>no-new-object</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> item = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> item = &#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-2-当创建一个带有动态属性名的对象时，用计算后属性名">3.2 当创建一个带有动态属性名的对象时，用计算后属性名</h4>
<blockquote>
<p>Why? 这可以使你将定义的所有属性放在对象的一个地方.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getKey</span>(<span class="params">k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`a key named <span class="subst">$&#123;k&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  id: <span class="number">5</span>,</span><br><span class="line">  name: <span class="string">&#x27;San Francisco&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">obj[getKey(<span class="string">&#x27;enabled&#x27;</span>)] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good getKey(&#x27;enabled&#x27;)是动态属性名</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  id: <span class="number">5</span>,</span><br><span class="line">  name: <span class="string">&#x27;San Francisco&#x27;</span>,</span><br><span class="line">  [getKey(<span class="string">&#x27;enabled&#x27;</span>)]: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-3-用对象方法简写-eslint-object-shorthand">3.3 用对象方法简写. eslint: <code>object-shorthand</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> atom = &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  addValue: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> atom.value + value</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> atom = &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对象的方法</span></span><br><span class="line">  addValue(value) &#123;</span><br><span class="line">    <span class="keyword">return</span> atom.value + value</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-4-用属性值缩写-eslint-object-shorthand">3.4 用属性值缩写. eslint: <code>object-shorthand</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">&#x27;Luke Skywalker&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker: lukeSkywalker,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-5-将你的所有缩写放在对象声明的开始">3.5 将你的所有缩写放在对象声明的开始.</h4>
<blockquote>
<p>Why? 这样也是为了更方便的知道有哪些属性用了缩写.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anakinSkywalker = <span class="string">&#x27;Anakin Skywalker&#x27;</span></span><br><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">&#x27;Luke Skywalker&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  episodeOne: <span class="number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="number">2</span>,</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  episodeThree: <span class="number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="number">4</span>,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">  episodeOne: <span class="number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="number">2</span>,</span><br><span class="line">  episodeThree: <span class="number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="number">4</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-6-只对那些无效的标示使用引号-‘’-eslint-quote-props">3.6 只对那些无效的标示使用引号 ‘’. eslint: <code>quote-props</code></h4>
<blockquote>
<p>Why? 通常我们认为这种方式主观上易读。他优化了代码高亮，并且页更容易被许多 JS 引擎压缩。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> bad = &#123;</span><br><span class="line">  <span class="string">&#x27;foo&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="string">&#x27;bar&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="string">&#x27;data-blah&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> good = &#123;</span><br><span class="line">  foo: <span class="number">3</span>,</span><br><span class="line">  bar: <span class="number">4</span>,</span><br><span class="line">  <span class="string">&#x27;data-blah&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-7-不要直接调用Object-prototype上的方法，如hasOwnProperty-propertyIsEnumerable-isPrototypeOf。">3.7 不要直接调用<code>Object.prototype</code>上的方法，如<code>hasOwnProperty</code>, <code>propertyIsEnumerable</code>, <code>isPrototypeOf</code>。</h4>
<blockquote>
<p>Why? 在一些有问题的对象上， 这些方法可能会被屏蔽掉 - 如：{ hasOwnProperty: false } - 或这是一个空对象Object.create(null)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">console</span>.log(object.hasOwnProperty(key));</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.hasOwnProperty.call(object, key));</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> has = <span class="built_in">Object</span>.prototype.hasOwnProperty; <span class="comment">// 在模块作用内做一次缓存</span></span><br><span class="line"><span class="comment">/* or */</span></span><br><span class="line"><span class="keyword">import</span> has <span class="keyword">from</span> <span class="string">&#x27;has&#x27;</span>; <span class="comment">// https://www.npmjs.com/package/has</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="built_in">console</span>.log(has.call(object, key));</span><br></pre></td></tr></table></figure>
<h4 id="3-8-对象浅拷贝时，更推荐使用扩展运算符-就是-运算符-，而不是Object-assign。获取对象指定的几个属性时，用对象的rest解构运算符-也是-运算符-更好。">3.8 对象浅拷贝时，更推荐使用扩展运算符<code>[就是...运算符]</code>，而不是<code>Object.assign</code>。获取对象指定的几个属性时，用对象的rest解构运算符<code>[也是...运算符]</code>更好。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// very bad</span></span><br><span class="line"><span class="keyword">const</span> original = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> copy = <span class="built_in">Object</span>.assign(original, &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;); <span class="comment">// this mutates `original` ಠ_ಠ</span></span><br><span class="line"><span class="keyword">delete</span> copy.a; <span class="comment">// so does this</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> original = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> copy = <span class="built_in">Object</span>.assign(&#123;&#125;, original, &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;); <span class="comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good es6扩展运算符 ...</span></span><br><span class="line"><span class="keyword">const</span> original = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="comment">// 浅拷贝</span></span><br><span class="line"><span class="keyword">const</span> copy = &#123; ...original, <span class="attr">c</span>: <span class="number">3</span> &#125;; <span class="comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// rest 赋值运算符</span></span><br><span class="line"><span class="keyword">const</span> &#123; a, ...noA &#125; = copy; <span class="comment">// noA =&gt; &#123; b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="Arrays">Arrays</h3>
<h4 id="4-1-用字面量赋值。-eslint-no-array-constructor">4.1 用字面量赋值。 eslint: <code>no-array-constructor</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> items = [];</span><br></pre></td></tr></table></figure>
<h4 id="4-2-用Array-push-代替直接向数组中添加一个值。">4.2 用<code>Array#push</code> 代替直接向数组中添加一个值。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someStack = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">someStack[someStack.length] = <span class="string">&#x27;abracadabra&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">someStack.push(<span class="string">&#x27;abracadabra&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="4-3-用扩展运算符做数组浅拷贝，类似上面的对象浅拷贝">4.3 用扩展运算符做数组浅拷贝，类似上面的对象浅拷贝</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> len = items.length;</span><br><span class="line"><span class="keyword">const</span> itemsCopy = [];</span><br><span class="line"><span class="keyword">let</span> i;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i += <span class="number">1</span>) &#123;</span><br><span class="line">  itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> itemsCopy = [...items];</span><br></pre></td></tr></table></figure>
<h4 id="4-4-用-运算符而不是Array-from来将一个可迭代的对象转换成数组。">4.4 用 <code>...</code> 运算符而不是Array.from来将一个可迭代的对象转换成数组。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.foo&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> nodes = <span class="built_in">Array</span>.from(foo);</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> nodes = [...foo];</span><br></pre></td></tr></table></figure>
<h4 id="4-5-用-Array-from-去将一个类数组对象转成一个数组。">4.5 用 <code>Array.from</code> 去将一个类数组对象转成一个数组。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrLike = &#123; <span class="number">0</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;baz&#x27;</span>, <span class="attr">length</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> arr = <span class="built_in">Array</span>.prototype.slice.call(arrLike);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> arr = <span class="built_in">Array</span>.from(arrLike);</span><br></pre></td></tr></table></figure>
<h4 id="4-6-用-Array-from-而不是-运算符去做map遍历。-因为这样可以避免创建一个临时数组。">4.6 用 <code>Array.from</code> 而不是 <code>...</code> 运算符去做map遍历。 因为这样可以避免创建一个临时数组。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> baz = [...foo].map(bar);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> baz = <span class="built_in">Array</span>.from(foo, bar);</span><br></pre></td></tr></table></figure>
<h4 id="4-7-在数组方法的回调函数中使用-return-语句。-如果函数体由一条返回一个表达式的语句组成，-并且这个表达式没有副作用，-这个时候可以忽略return，详见-8-2-eslint-array-callback-return。">4.7 在数组方法的回调函数中使用 <code>return</code> 语句。 如果函数体由一条返回一个表达式的语句组成， 并且这个表达式没有副作用， 这个时候可以忽略<code>return</code>，详见 8.2. eslint: <code>array-callback-return</code>。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good 函数只有一个语句</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad - 没有返回值， 因为在第一次迭代后acc 就变成undefined了</span></span><br><span class="line">[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function">(<span class="params">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> flatten = acc.concat(item);</span><br><span class="line">  acc[index] = flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// reduce没有设置初始值，则默认取数组第一个值为初始值</span></span><br><span class="line">[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function">(<span class="params">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> flatten = acc.concat(item);</span><br><span class="line">  acc[index] = flatten;</span><br><span class="line">  <span class="keyword">return</span> flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">inbox.filter(<span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="keyword">if</span> (subject === <span class="string">&#x27;Mockingbird&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> author === <span class="string">&#x27;Harper Lee&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">inbox.filter(<span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="keyword">if</span> (subject === <span class="string">&#x27;Mockingbird&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> author === <span class="string">&#x27;Harper Lee&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="4-8-如果一个数组有很多行，在数组的-后和-前断行。-请看下面示例">4.8 如果一个数组有很多行，在数组的 [ 后和 ] 前断行。 请看下面示例</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> arr = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectInArray = [&#123;</span><br><span class="line">  id: <span class="number">1</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  id: <span class="number">2</span>,</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numberInArray = [</span><br><span class="line">  <span class="number">1</span>, <span class="number">2</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> arr = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectInArray = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numberInArray = [</span><br><span class="line">  <span class="number">1</span>,</span><br><span class="line">  <span class="number">2</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h3 id="Destructuring">Destructuring</h3>
<h4 id="5-1-用对象的解构赋值来获取和使用对象某个或多个属性值。-eslint-prefer-destructuring">5.1 用对象的解构赋值来获取和使用对象某个或多个属性值。 eslint: <code>prefer-destructuring</code></h4>
<blockquote>
<p>Why? 解构使您不必为这些属性创建临时引用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> firstName = user.firstName;</span><br><span class="line">  <span class="keyword">const</span> lastName = user.lastName;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; firstName, lastName &#125; = user;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-2-用数组解构。">5.2 用数组解构。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> first = arr[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">const</span> second = arr[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> [first, second] = arr;</span><br></pre></td></tr></table></figure>
<h4 id="5-3-多个返回值用对象的解构，而不是数组解构。">5.3 多个返回值用对象的解构，而不是数组解构。</h4>
<blockquote>
<p>Why? 你可以在后期添加新的属性或者变换变量的顺序而不会打破原有的调用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processInput</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 然后就是见证奇迹的时刻</span></span><br><span class="line">  <span class="keyword">return</span> [left, right, top, bottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用者需要想一想返回值的顺序</span></span><br><span class="line"><span class="keyword">const</span> [left, __, top] = processInput(input);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processInput</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// oops， 奇迹又发生了</span></span><br><span class="line">  <span class="keyword">return</span> &#123; left, right, top, bottom &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用者只需要选择他想用的值就好了</span></span><br><span class="line"><span class="keyword">const</span> &#123; left, top &#125; = processInput(input);</span><br></pre></td></tr></table></figure>
<h3 id="Strings">Strings</h3>
<h4 id="6-1-对string用单引号-‘’-。-eslint-quotes">6.1 对<code>string</code>用单引号 ‘’ 。 eslint: <code>quotes</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Capt. Janeway&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad - 样例应该包含插入文字或换行</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">`Capt. Janeway`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;Capt. Janeway&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="6-2-超过100个字符的字符串不应该用string串联成多行。">6.2 超过100个字符的字符串不应该用<code>string</code>串联成多行。</h4>
<blockquote>
<p>Why? 被折断的字符串工作起来是糟糕的而且使得代码更不易被搜索。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> errorMessage = <span class="string">&#x27;This is a super long error that was thrown because \</span></span><br><span class="line"><span class="string">of Batman. When you stop to think about how Batman had anything to do \</span></span><br><span class="line"><span class="string">with this, you would get nowhere \</span></span><br><span class="line"><span class="string">fast.&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> errorMessage = <span class="string">&#x27;This is a super long error that was thrown because &#x27;</span> +</span><br><span class="line">  <span class="string">&#x27;of Batman. When you stop to think about how Batman had anything to do &#x27;</span> +</span><br><span class="line">  <span class="string">&#x27;with this, you would get nowhere fast.&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> errorMessage = <span class="string">&#x27;This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="6-3-用字符串模板而不是字符串拼接来组织可编程字符串。-eslint-prefer-template-template-curly-spacing">6.3 用字符串模板而不是字符串拼接来组织可编程字符串。 eslint: <code>prefer-template</code> <code>template-curly-spacing</code></h4>
<blockquote>
<p>Why? 模板字符串更具可读性、语法简洁、字符串插入参数。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;How are you, &#x27;</span> + name + <span class="string">&#x27;?&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="string">&#x27;How are you, &#x27;</span>, name, <span class="string">&#x27;?&#x27;</span>].join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123; name &#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123;name&#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-4-永远不要在字符串中用eval-，他就是潘多拉盒子。-eslint-no-eval">6.4 永远不要在字符串中用<code>eval()</code>，他就是潘多拉盒子。 eslint: <code>no-eval</code></h4>
<h4 id="6-5-不要使用不必要的转义字符。eslint-no-useless-escape">6.5 不要使用不必要的转义字符。eslint: <code>no-useless-escape</code></h4>
<blockquote>
<p>Why? 反斜线可读性差，所以他们只在必须使用时才出现哦</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;\&#x27;this\&#x27; \i\s \&quot;quoted\&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;\&#x27;this\&#x27; is &quot;quoted&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//best</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">`my name is &#x27;<span class="subst">$&#123;name&#125;</span>&#x27;`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Functions">Functions</h3>
<h4 id="7-1-用命名函数表达式而不是函数声明。eslint-func-style">7.1 用命名函数表达式而不是函数声明。eslint: <code>func-style</code></h4>
<blockquote>
<p>函数表达式： const func = function () {}</p>
</blockquote>
<blockquote>
<p>函数声明： function func() {}</p>
</blockquote>
<blockquote>
<p>Why? 函数声明时作用域被提前了，这意味着在一个文件里函数很容易（太容易了）在其定义之前被引用。这样伤害了代码可读性和可维护性。如果你发现一个函数又大又复杂，这个函数妨碍这个文件其他部分的理解性，这可能就是时候把这个函数单独抽成一个模块了。别忘了给表达式显示的命名，不用管这个名字是不是由一个确定的变量推断出来的，这消除了由匿名函数在错误调用栈产生的所有假设，这在现代浏览器和类似babel编译器中很常见 (Discussion)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// lexical name distinguished from the variable-referenced invocation(s)</span></span><br><span class="line"><span class="comment">// 函数表达式名和声明的函数名是不一样的</span></span><br><span class="line"><span class="keyword">const</span> short = <span class="function"><span class="keyword">function</span> <span class="title">longUniqueMoreDescriptiveLexicalFoo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="7-2-把立即执行函数包裹在圆括号里。-eslint-wrap-iife">7.2 把立即执行函数包裹在圆括号里。 eslint: <code>wrap-iife</code></h4>
<blockquote>
<p>Why? immediately invoked function expression = IIFE Why? 一个立即调用的函数表达式是一个单元 - 把它和他的调用者（圆括号）包裹起来，在括号中可以清晰的地表达这些。 Why? 注意：在模块化世界里，你几乎用不着 IIFE</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// immediately-invoked function expression (IIFE)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Welcome to the Internet. Please follow me.&#x27;</span>);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h4 id="7-2-1-IIFE">7.2.1 IIFE</h4>
<p>IIFE: Immediately Invoked Function Expression，意为立即调用的函数表达式，也就是说，声明函数的同时立即调用这个函数。</p>
<ul>
<li>不采用IIFE时的函数声明和函数调用：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<ul>
<li>IIFE形式的函数调用：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>函数的声明和IIFE的区别在于，在函数的声明中，我们首先看到的是function关键字，而IIFE我们首先看到的是左边的（。也就是说，使用一对（）将函数的声明括起来，使得JS编译器不再认为这是一个函数声明，而是一个IIFE，即需要立刻执行声明的函数。<br>
两者达到的目的是相同的，都是声明了一个函数foo并且随后调用函数foo。</p>
<h4 id="7-3-不要在非函数块（if、while等等）内声明函数。把这个函数分配给一个变量。浏览器会允许你这样做，但浏览器解析方式不同，这是一个坏消息。【详见no-loop-func】-eslint-no-loop-func">7.3 不要在非函数块（<code>if</code>、<code>while</code>等等）内声明函数。把这个函数分配给一个变量。浏览器会允许你这样做，但浏览器解析方式不同，这是一个坏消息。【详见no-loop-func】 eslint: <code>no-loop-func</code></h4>
<h4 id="7-4-Note-在ECMA-262中-块-block-的定义是：-一系列的语句；-但是函数声明不是一个语句。-函数表达式是一个语句。">7.4 Note: 在ECMA-262中 [块 <code>block</code>] 的定义是： 一系列的语句； 但是函数声明不是一个语句。 函数表达式是一个语句。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (currentUser) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Nope.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> test;</span><br><span class="line"><span class="keyword">if</span> (currentUser) &#123;</span><br><span class="line">  test = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Yup.&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-5-不要用arguments命名参数。他的优先级高于每个函数作用域自带的arguments对象，-这会导致函数自带的arguments值被覆盖">7.5 不要用<code>arguments</code>命名参数。他的优先级高于每个函数作用域自带的<code>arguments</code>对象， 这会导致函数自带的<code>arguments</code>值被覆盖</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">name, options, arguments</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">name, options, args</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-6-不要使用arguments，用rest语法-代替。-eslint-prefer-rest-params">7.6 不要使用<code>arguments</code>，用rest语法<code>...</code>代替。 eslint: <code>prefer-rest-params</code></h4>
<blockquote>
<p>Why? …明确你想用那个参数。而且rest参数是真数组，而不是类似数组的arguments</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">concatenateAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="keyword">return</span> args.join(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">concatenateAll</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> args.join(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-7-用默认参数语法而不是在函数里对参数重新赋值。">7.7 用默认参数语法而不是在函数里对参数重新赋值。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// really bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">opts</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 不， 我们不该改arguments</span></span><br><span class="line">  <span class="comment">// 第二： 如果 opts 的值为 false, 它会被赋值为 &#123;&#125;</span></span><br><span class="line">  <span class="comment">// 虽然你想这么写， 但是这个会带来一些细微的bug</span></span><br><span class="line">  opts = opts || &#123;&#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// still bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">opts</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (opts === <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">    opts = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">opts = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-8-默认参数避免副作用">7.8 默认参数避免副作用</h4>
<blockquote>
<p>Why? 他会令人迷惑不解， 比如下面这个， a到底等于几， 这个需要想一下。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">a = b++</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">count();  <span class="comment">// 1</span></span><br><span class="line">count();  <span class="comment">// 2</span></span><br><span class="line">count(<span class="number">3</span>); <span class="comment">// 3</span></span><br><span class="line">count();  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h4 id="7-9-把默认参数赋值放在最后">7.9 把默认参数赋值放在最后</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">opts = &#123;&#125;, name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">name, opts = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-10-不要用函数构造器创建函数。-eslint-no-new-func">7.10 不要用函数构造器创建函数。 eslint: <code>no-new-func</code></h4>
<blockquote>
<p>Why? 以这种方式创建函数将类似于字符串 eval()，这会打开漏洞。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;return a + b&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// still bad</span></span><br><span class="line"><span class="keyword">var</span> subtract = <span class="built_in">Function</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;return a - b&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="7-11-函数签名部分要有空格。eslint-space-before-function-paren-space-before-blocks">7.11 函数签名部分要有空格。eslint: <code>space-before-function-paren</code> <code>space-before-blocks</code></h4>
<blockquote>
<p>Why? 统一性好，而且在你添加/删除一个名字的时候不需要添加/删除空格</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> g = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> h = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> y = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="7-12-不要改参数-eslint-no-param-reassign">7.12 不要改参数. eslint: <code>no-param-reassign</code></h4>
<blockquote>
<p>Why? 操作参数对象对原始调用者会导致意想不到的副作用。 就是不要改参数的数据结构，保留参数原始值和数据结构。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  obj.key = <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="built_in">Object</span>.prototype.hasOwnProperty.call(obj, <span class="string">&#x27;key&#x27;</span>) ? obj.key : <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="7-13-不要对参数重新赋值。-eslint-no-param-reassign">7.13 不要对参数重新赋值。 eslint: <code>no-param-reassign</code></h4>
<blockquote>
<p>Why? 参数重新赋值会导致意外行为，尤其是对 arguments。这也会导致优化问题，特别是在V8里</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!a) &#123; a = <span class="number">1</span>; &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> b = a || <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params">a = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-14-用spread操作符…去调用多变的函数更好。-eslint-prefer-spread">7.14 用spread操作符…去调用多变的函数更好。 eslint: <code>prefer-spread</code></h4>
<blockquote>
<p>Why? 这样更清晰，你不必提供上下文，而且你不能轻易地用apply来组成new</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(...x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">new</span> (<span class="built_in">Function</span>.prototype.bind.apply(<span class="built_in">Date</span>, [<span class="literal">null</span>, <span class="number">2016</span>, <span class="number">8</span>, <span class="number">5</span>]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(...[<span class="number">2016</span>, <span class="number">8</span>, <span class="number">5</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="7-15-调用或者书写一个包含多个参数的函数应该像这个指南里的其他多行代码写法一样：-每行值包含一个参数，每行逗号结尾。">7.15 调用或者书写一个包含多个参数的函数应该像这个指南里的其他多行代码写法一样： 每行值包含一个参数，每行逗号结尾。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">bar,</span></span></span><br><span class="line"><span class="function"><span class="params">             baz,</span></span></span><br><span class="line"><span class="function"><span class="params">             quux</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good 缩进不要太过分</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  bar,</span></span></span><br><span class="line"><span class="function"><span class="params">  baz,</span></span></span><br><span class="line"><span class="function"><span class="params">  quux,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">console</span>.log(foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="Arrow-Functions">Arrow Functions</h3>
<h4 id="8-1-当你一定要用函数表达式（在回调函数里）的时候就用箭头表达式吧。-eslint-prefer-arrow-callback-arrow-spacing">8.1 当你一定要用函数表达式（在回调函数里）的时候就用箭头表达式吧。 eslint: <code>prefer-arrow-callback</code>, <code>arrow-spacing</code></h4>
<blockquote>
<p>Why? 他创建了一个this的当前执行上下文的函数的版本，这通常就是你想要的；而且箭头函数是更简洁的语法</p>
</blockquote>
<blockquote>
<p>Why? 什么时候不用箭头函数： 如果你有一个相当复杂的函数，你可能会把这个逻辑移出到他自己的函数声明里。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="8-2-如果函数体由一个没有副作用的表达式语句组成，删除大括号和return。否则，继续用大括号和-return-语句。-eslint-arrow-parens-arrow-body-style">8.2 如果函数体由一个没有副作用的表达式语句组成，删除大括号和<code>return</code>。否则，继续用大括号和 <code>return</code> 语句。 eslint: <code>arrow-parens</code>, <code>arrow-body-style</code></h4>
<blockquote>
<p>Why? 语法糖，当多个函数链在一起的时候好读</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> nextNumber = number + <span class="number">1</span>;</span><br><span class="line">  <span class="string">`A string containing the <span class="subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">number</span> =&gt;</span> <span class="string">`A string containing the <span class="subst">$&#123;number&#125;</span>.`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">number</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> nextNumber = number + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`A string containing the <span class="subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">number, index</span>) =&gt;</span> (&#123;</span><br><span class="line">  [index]: number</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 表达式有副作用就不要用隐式return</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> val = callback();</span><br><span class="line">  <span class="keyword">if</span> (val === <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something if callback returns true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bool = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// 这种情况会return bool = true, 不好</span></span><br><span class="line">foo(<span class="function">() =&gt;</span> bool = <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">foo(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  bool = <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="8-3-万一表达式涉及多行，把他包裹在圆括号里更可读。">8.3 万一表达式涉及多行，把他包裹在圆括号里更可读。</h4>
<blockquote>
<p>Why? 这样清晰的显示函数的开始和结束</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;put&#x27;</span>].map(<span class="function"><span class="params">httpMethod</span> =&gt;</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod</span><br><span class="line">  )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;put&#x27;</span>].map(<span class="function"><span class="params">httpMethod</span> =&gt;</span> (</span><br><span class="line">  <span class="built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod</span><br><span class="line">  )</span><br><span class="line">));</span><br></pre></td></tr></table></figure>
<h4 id="8-4-如果你的函数只有一个参数并且函数体没有大括号，就删除圆括号。否则，参数总是放在圆括号里。-注意：-一直用圆括号也是没问题，只需要配置-“always”-option-for-eslint-eslint-arrow-parens">8.4 如果你的函数只有一个参数并且函数体没有大括号，就删除圆括号。否则，参数总是放在圆括号里。 注意： 一直用圆括号也是没问题，只需要配置 “always” option for eslint. eslint: <code>arrow-parens</code></h4>
<blockquote>
<p>Why? 这样少一些混乱， 其实没啥语法上的讲究，就保持一个风格。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> x * x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">number</span> =&gt;</span> (</span><br><span class="line">  <span class="string">`A long string with the <span class="subst">$&#123;number&#125;</span>. It’s so long that we don’t want it to take up space on the .map line!`</span></span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="8-5-避免箭头函数-和比较操作符（-）混淆-eslint-no-confusing-arrow">8.5 避免箭头函数(<code>=&gt;</code>)和比较操作符（<code>&lt;=</code>, <code>&gt;=</code>）混淆. eslint: <code>no-confusing-arrow</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> itemHeight = <span class="function">(<span class="params">item</span>) =&gt;</span> item.height &lt;= <span class="number">256</span> ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> itemHeight = <span class="function">(<span class="params">item</span>) =&gt;</span> item.height &gt;= <span class="number">256</span> ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> itemHeight = <span class="function">(<span class="params">item</span>) =&gt;</span> (item.height &lt;= <span class="number">256</span> ? item.largeSize : item.smallSize);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> itemHeight = <span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; height, largeSize, smallSize &#125; = item;</span><br><span class="line">  <span class="keyword">return</span> height &lt;= <span class="number">256</span> ? largeSize : smallSize;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="8-6-在隐式return中强制约束函数体的位置，-就写在箭头后面。-eslint-implicit-arrow-linebreak">8.6 在隐式<code>return</code>中强制约束函数体的位置， 就写在箭头后面。 eslint: <code>implicit-arrow-linebreak</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">(foo) =&gt;</span><br><span class="line">  bar;</span><br><span class="line"></span><br><span class="line">(foo) =&gt;</span><br><span class="line">  (bar);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">(foo) =&gt; bar;</span><br><span class="line">(foo) =&gt; (bar);</span><br><span class="line">(foo) =&gt; (</span><br><span class="line">   bar</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="Classes-Constructors">Classes &amp; Constructors</h3>
<h4 id="9-1-常用class，避免直接操作prototype">9.1 常用class，避免直接操作prototype</h4>
<blockquote>
<p>Why? class语法更简洁更易理解</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params">contents = []</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.queue = [...contents];</span><br><span class="line">&#125;</span><br><span class="line">Queue.prototype.pop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> value = <span class="built_in">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">this</span>.queue.splice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(contents = []) &#123;</span><br><span class="line">    <span class="built_in">this</span>.queue = [...contents];</span><br><span class="line">  &#125;</span><br><span class="line">  pop() &#123;</span><br><span class="line">    <span class="keyword">const</span> value = <span class="built_in">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">this</span>.queue.splice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="9-2-用extends实现继承">9.2 用extends实现继承</h4>
<blockquote>
<p>Why? 它是一种内置的方法来继承原型功能而不打破instanceof</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> inherits = <span class="built_in">require</span>(<span class="string">&#x27;inherits&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PeekableQueue</span>(<span class="params">contents</span>) </span>&#123;</span><br><span class="line">  Queue.apply(<span class="built_in">this</span>, contents);</span><br><span class="line">&#125;</span><br><span class="line">inherits(PeekableQueue, Queue);</span><br><span class="line">PeekableQueue.prototype.peek = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PeekableQueue</span> <span class="keyword">extends</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  peek() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="9-3-方法可以返回this来实现方法链">9.3 方法可以返回this来实现方法链</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">Jedi.prototype.jump = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.jumping = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span> (<span class="params">height</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.height = height;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> luke = <span class="keyword">new</span> Jedi();</span><br><span class="line">luke.jump(); <span class="comment">// =&gt; true</span></span><br><span class="line">luke.setHeight(<span class="number">20</span>); <span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  jump() &#123;</span><br><span class="line">    <span class="built_in">this</span>.jumping = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setHeight(height) &#123;</span><br><span class="line">    <span class="built_in">this</span>.height = height;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> luke = <span class="keyword">new</span> Jedi();</span><br><span class="line"></span><br><span class="line">luke.jump()</span><br><span class="line">  .setHeight(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<h4 id="9-4-写一个定制的toString-方法是可以的，只要保证它是可以正常工作且没有副作用的">9.4 写一个定制的<code>toString()</code>方法是可以的，只要保证它是可以正常工作且没有副作用的</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options = &#123;&#125;) &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = options.name || <span class="string">&#x27;no name&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Jedi - <span class="subst">$&#123;<span class="built_in">this</span>.getName()&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="9-5-如果没有具体说明，类有默认的构造方法。一个空的构造函数或只是代表父类的构造函数是不需要写的。-eslint-no-useless-constructor">9.5 如果没有具体说明，类有默认的构造方法。一个空的构造函数或只是代表父类的构造函数是不需要写的。 eslint: <code>no-useless-constructor</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rey</span> <span class="keyword">extends</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 这种构造函数是不需要写的</span></span><br><span class="line">  <span class="keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="built_in">super</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rey</span> <span class="keyword">extends</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="built_in">super</span>(...args);</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;Rey&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="9-6-避免重复类成员。-eslint-no-dupe-class-members">9.6 避免重复类成员。 eslint: <code>no-dupe-class-members</code></h4>
<blockquote>
<p>Why? 重复类成员会默默的执行最后一个 —— 重复本身也是一个bug</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="9-7-除非外部库或框架需要使用特定的非静态方法，否则类方法应该使用this或被做成静态方法。-作为一个实例方法应该表明它根据接收者的属性有不同的行为。eslint-class-methods-use-this">9.7 除非外部库或框架需要使用特定的非静态方法，否则类方法应该使用this或被做成静态方法。 作为一个实例方法应该表明它根据接收者的属性有不同的行为。eslint: <code>class-methods-use-this</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good - this 被使用了</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.bar);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good - constructor 不一定要使用this</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good - 静态方法不需要使用 this</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> bar() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Modules">Modules</h3>
<h4 id="10-1-用-import-export-模块而不是无标准的模块系统。你可以随时转到你喜欢的模块系统。">10.1 用(<code>import/export</code>) 模块而不是无标准的模块系统。你可以随时转到你喜欢的模块系统。</h4>
<blockquote>
<p>Why? 模块化是未来，让我们现在就开启未来吧。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> AirbnbStyleGuide = <span class="built_in">require</span>(<span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ok</span></span><br><span class="line"><span class="keyword">import</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure>
<h4 id="10-2-不要用import通配符，-就是-这种方式">10.2 不要用import通配符， 就是 * 这种方式</h4>
<blockquote>
<p>Why? 这确保你有单个默认的导出</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="10-3-不要直接从import中直接export">10.3 不要直接从<code>import</code>中直接<code>export</code></h4>
<blockquote>
<p>Why? 虽然一行是简洁的，有一个明确的方式进口和一个明确的出口方式来保证一致性。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// filename es6.js</span></span><br><span class="line"><span class="keyword">export</span> &#123; es6 <span class="keyword">as</span> <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// filename es6.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure>
<h4 id="10-4-一个路径只-import-一次。-eslint-no-duplicate-imports">10.4 一个路径只 <code>import</code> 一次。 eslint: <code>no-duplicate-imports</code></h4>
<blockquote>
<p>Why? 从同一个路径下import多行会使代码难以维护</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"><span class="comment">// … some other imports … //</span></span><br><span class="line"><span class="keyword">import</span> &#123; named1, named2 &#125; <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo, &#123; named1, named2 &#125; <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo, &#123;</span><br><span class="line">  named1,</span><br><span class="line">  named2,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="10-5-不要导出可变的东西-eslint-import-no-mutable-exports">10.5 不要导出可变的东西 eslint: <code>import/no-mutable-exports</code></h4>
<blockquote>
<p>Why? 变化通常都是需要避免，特别是当你要输出可变的绑定。虽然在某些场景下可能需要这种技术，但总的来说应该导出常量。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo &#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-6-在一个单一导出模块里，用-export-default-更好。-eslint-import-prefer-default-export">10.6 在一个单一导出模块里，用 <code>export default</code> 更好。 eslint: <code>import/prefer-default-export</code></h4>
<blockquote>
<p>Why? 鼓励使用更多文件，每个文件只做一件事情并导出，这样可读性和可维护性更好。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-7-import-放在其他所有语句之前。-eslint-import-first">10.7 import 放在其他所有语句之前。 eslint: <code>import/first</code></h4>
<blockquote>
<p>Why? 让import放在最前面防止意外行为。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">foo.init();</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bar <span class="keyword">from</span> <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> bar <span class="keyword">from</span> <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"></span><br><span class="line">foo.init();</span><br></pre></td></tr></table></figure>
<h4 id="10-8-多行import应该缩进，就像多行数组和对象字面量">10.8 多行<code>import</code>应该缩进，就像多行数组和对象字面量</h4>
<blockquote>
<p>Why? 花括号与样式指南中每个其他花括号块遵循相同的缩进规则，逗号也是。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> &#123;longNameA, longNameB, longNameC, longNameD, longNameE&#125; <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  longNameA,</span><br><span class="line">  longNameB,</span><br><span class="line">  longNameC,</span><br><span class="line">  longNameD,</span><br><span class="line">  longNameE,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="10-9-在import语句里不允许Webpack-loader语法-eslint-import-no-webpack-loader-syntax">10.9 在import语句里不允许Webpack loader语法 eslint: <code>import/no-webpack-loader-syntax</code></h4>
<blockquote>
<p>Why? 一旦用Webpack语法在import里会把代码耦合到模块绑定器。最好是在webpack.config.js里写webpack loader语法</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> fooSass <span class="keyword">from</span> <span class="string">&#x27;css!sass!foo.scss&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> barCss <span class="keyword">from</span> <span class="string">&#x27;style!css!bar.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> fooSass <span class="keyword">from</span> <span class="string">&#x27;foo.scss&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> barCss <span class="keyword">from</span> <span class="string">&#x27;bar.css&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Iterators-and-Generators">Iterators and Generators</h3>
<h4 id="11-1-不要用遍历器。用JavaScript高级函数代替for-in、-for-of。-eslint-no-iterator-no-restricted-syntax">11.1 不要用遍历器。用JavaScript高级函数代替for-in、 for-of。 eslint: <code>no-iterator no-restricted-syntax</code></h4>
<blockquote>
<p>Why? 这强调了我们不可变的规则。 处理返回值的纯函数比副作用更容易。</p>
</blockquote>
<blockquote>
<p>Why?用数组的这些迭代方法：</p>
<ul>
<li>map()</li>
<li>every()</li>
<li>filter()</li>
<li>find()</li>
<li>findIndex()</li>
<li>reduce()</li>
<li>some()</li>
<li>… ,</li>
</ul>
<p>用对象的这些方法</p>
<ul>
<li>Object.keys()</li>
<li>Object.values()</li>
<li>Object.entries()</li>
</ul>
<p>去产生一个数组， 这样你就能去遍历对象了。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> numbers) &#123;</span><br><span class="line">  sum += num;</span><br><span class="line">&#125;</span><br><span class="line">sum === <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">numbers.forEach(<span class="function"><span class="params">num</span> =&gt;</span> sum += num);</span><br><span class="line">sum === <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best (use the functional force)</span></span><br><span class="line"><span class="keyword">const</span> sum = numbers.reduce(<span class="function">(<span class="params">total, num</span>) =&gt;</span> total + num, <span class="number">0</span>);</span><br><span class="line">sum === <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> increasedByOne = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">  increasedByOne.push(numbers[i] + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> increasedByOne = [];</span><br><span class="line">numbers.forEach(<span class="function"><span class="params">num</span> =&gt;</span> increasedByOne.push(num + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// best (keeping it functional)</span></span><br><span class="line"><span class="keyword">const</span> increasedByOne = numbers.map(<span class="function"><span class="params">num</span> =&gt;</span> num + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<h4 id="11-2-现在不要用generator">11.2 现在不要用generator</h4>
<blockquote>
<p>Why? 它在es5上支持的不好</p>
</blockquote>
<h4 id="11-3-如果你一定要用，或者你忽略我们的建议-请确保它们的函数签名空格是得当的。-eslint-generator-star-spacing">11.3 如果你一定要用，或者你忽略我们的建议, 请确保它们的函数签名空格是得当的。 eslint: <code>generator-star-spacing</code></h4>
<blockquote>
<p>Why? function 和 * 是同一概念关键字 - <em>不是function的修饰符，function</em>是一个和function不一样的独特结构</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> bar = <span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> baz = <span class="function"><span class="keyword">function</span> *(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> quux = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>*<span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// very bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">*</span></span><br><span class="line"><span class="function"><span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// very bad</span></span><br><span class="line"><span class="keyword">const</span> wat = <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">*</span></span><br><span class="line"><span class="function">(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Properties">Properties</h3>
<h4 id="12-1-访问属性时使用点符号-eslint-dot-notation">12.1 访问属性时使用点符号. eslint: <code>dot-notation</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> luke = &#123;</span><br><span class="line">  jedi: <span class="literal">true</span>,</span><br><span class="line">  age: <span class="number">28</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> isJedi = luke[<span class="string">&#x27;jedi&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> isJedi = luke.jedi;</span><br></pre></td></tr></table></figure>
<h4 id="12-2-当获取的属性是变量时用方括号-取。">12.2 当获取的属性是变量时用方括号<code>[]</code>取。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> luke = &#123;</span><br><span class="line">  jedi: <span class="literal">true</span>,</span><br><span class="line">  age: <span class="number">28</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProp</span>(<span class="params">prop</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> luke[prop];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isJedi = getProp(<span class="string">&#x27;jedi&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="12-3-做幂运算时用幂操作符-。-eslint-no-restricted-properties">12.3 做幂运算时用幂操作符 <code>**</code> 。 eslint: <code>no-restricted-properties</code>.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> binary = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> binary = <span class="number">2</span> ** <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Variables">Variables</h3>
<h4 id="13-1-用const或let声明变量。不这样做会导致全局变量。-我们想要避免污染全局命名空间。首长这样警告我们。-eslint-no-undef-prefer-const">13.1 用<code>const</code>或<code>let</code>声明变量。不这样做会导致全局变量。 我们想要避免污染全局命名空间。首长这样警告我们。 eslint: <code>no-undef</code> <code>prefer-const</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">superPower = <span class="keyword">new</span> SuperPower();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> superPower = <span class="keyword">new</span> SuperPower();</span><br></pre></td></tr></table></figure>
<h4 id="13-2-每个变量都用一个-const-或-let-。-eslint-one-var">13.2 每个变量都用一个 const 或 let 。 eslint: <code>one-var</code></h4>
<blockquote>
<p>Why? 这种方式很容易去声明新的变量，你不用去考虑把;调换成,，或者引入一个只有标点的不同的变化。这种做法也可以是你在调试的时候单步每个声明语句，而不是一下跳过所有声明。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>,</span><br><span class="line">    dragonball = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// (compare to above, and try to spot the mistake)</span></span><br><span class="line"><span class="keyword">const</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>;</span><br><span class="line">    dragonball = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> items = getItems();</span><br><span class="line"><span class="keyword">const</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> dragonball = <span class="string">&#x27;z&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="13-3-const放一起，let放一起">13.3 const放一起，let放一起</h4>
<blockquote>
<p>Why? 在你需要分配一个新的变量， 而这个变量依赖之前分配过的变量的时候，这种做法是有帮助的</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> i, len, dragonball,</span><br><span class="line">    items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> i;</span><br><span class="line"><span class="keyword">const</span> items = getItems();</span><br><span class="line"><span class="keyword">let</span> dragonball;</span><br><span class="line"><span class="keyword">const</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> len;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> items = getItems();</span><br><span class="line"><span class="keyword">let</span> dragonball;</span><br><span class="line"><span class="keyword">let</span> i;</span><br><span class="line"><span class="keyword">let</span> length;</span><br></pre></td></tr></table></figure>
<h4 id="13-4-在你需要的地方声明变量，但是要放在合理的位置">13.4 在你需要的地方声明变量，但是要放在合理的位置</h4>
<blockquote>
<p>Why? let 和 const 都是块级作用域而不是函数级作用域</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad - unnecessary function call</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkName</span>(<span class="params">hasName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> name = getName();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasName === <span class="string">&#x27;test&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (name === <span class="string">&#x27;test&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.setName(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkName</span>(<span class="params">hasName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (hasName === <span class="string">&#x27;test&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 在需要的时候分配</span></span><br><span class="line">  <span class="keyword">const</span> name = getName();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (name === <span class="string">&#x27;test&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.setName(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-5-不要使用链接变量分配。-eslint-no-multi-assign">13.5 不要使用链接变量分配。 eslint: <code>no-multi-assign</code></h4>
<blockquote>
<p>Why? 链接变量分配创建隐式全局变量。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// JavaScript 将这一段解释为</span></span><br><span class="line">  <span class="comment">// let a = ( b = ( c = 1 ) );</span></span><br><span class="line">  <span class="comment">// let 只对变量 a 起作用; 变量 b 和 c 都变成了全局变量</span></span><br><span class="line">  <span class="keyword">let</span> a = b = c = <span class="number">1</span>;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> b = a;</span><br><span class="line">  <span class="keyword">let</span> c = a;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `const` 也是如此</span></span><br></pre></td></tr></table></figure>
<h4 id="13-6-不要使用一元自增自减运算符（-，-）-eslint-no-plusplus">13.6 不要使用一元自增自减运算符（++， --）. eslint: <code>no-plusplus</code></h4>
<blockquote>
<p>Why? 根据eslint文档，一元增量和减量语句受到自动分号插入的影响，并且可能会导致应用程序中的值递增或递减的无声错误。 使用num + = 1而不是num ++或num ++语句来表达你的值也是更有表现力的。 禁止一元增量和减量语句还会阻止您无意地预增/预减值，这也会导致程序出现意外行为。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"> <span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line"> num++;</span><br><span class="line"> --num;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">let</span> truthyCount = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">   <span class="keyword">let</span> value = array[i];</span><br><span class="line">   sum += value;</span><br><span class="line">   <span class="keyword">if</span> (value) &#123;</span><br><span class="line">     truthyCount++;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// good</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"> <span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line"> num += <span class="number">1</span>;</span><br><span class="line"> num -= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> sum = array.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b, <span class="number">0</span>);</span><br><span class="line"> <span class="keyword">const</span> truthyCount = array.filter(<span class="built_in">Boolean</span>).length;</span><br></pre></td></tr></table></figure>
<h4 id="13-7-在赋值的时候避免在-前-后换行。-如果你的赋值语句超出-max-len，-那就用小括号把这个值包起来再换行。-eslint-operator-linebreak">13.7 在赋值的时候避免在 = 前/后换行。 如果你的赋值语句超出 max-len， 那就用小括号把这个值包起来再换行。 eslint: <code>operator-linebreak</code>.</h4>
<blockquote>
<p>Why? 在 = 附近换行容易混淆这个赋值语句。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo =</span><br><span class="line">  superLongLongLongLongLongLongLongLongFunctionName();</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo</span><br><span class="line">  = <span class="string">&#x27;superLongLongLongLongLongLongLongLongString&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = (</span><br><span class="line">  superLongLongLongLongLongLongLongLongFunctionName()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;superLongLongLongLongLongLongLongLongString&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="13-8-不允许有未使用的变量。-eslint-no-unused-vars">13.8 不允许有未使用的变量。 eslint: <code>no-unused-vars</code></h4>
<blockquote>
<p>Why? 一个声明了但未使用的变量更像是由于重构未完成产生的错误。这种在代码中出现的变量会使阅读者迷惑。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> some_unused_var = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写了没用</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">10</span>;</span><br><span class="line">y = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量改了自己的值，也没有用这个变量</span></span><br><span class="line"><span class="keyword">var</span> z = <span class="number">0</span>;</span><br><span class="line">z = z + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 参数定义了但未使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getX</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getXPlusY</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> y = a + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">alert(getXPlusY(x, y));</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x27;type&#x27; 即使没有使用也可以可以被忽略， 因为这个有一个 rest 取值的属性。</span></span><br><span class="line"><span class="comment">// 这是从对象中抽取一个忽略特殊字段的对象的一种形式</span></span><br><span class="line"><span class="keyword">var</span> &#123; type, ...coords &#125; = data;</span><br><span class="line"><span class="comment">// &#x27;coords&#x27; 现在就是一个没有 &#x27;type&#x27; 属性的 &#x27;data&#x27; 对象</span></span><br></pre></td></tr></table></figure>
<h3 id="Hoisting">Hoisting</h3>
<h4 id="14-1-var声明会被提前到他的作用域的最前面，它分配的值还没有提前。const-和-let被赋予了新的调用概念时效区-——-Temporal-Dead-Zones-TDZ-。-重要的是要知道为什么-typeof不再安全">14.1 var声明会被提前到他的作用域的最前面，它分配的值还没有提前。const 和 let被赋予了新的调用概念时效区 —— Temporal Dead Zones (TDZ)。 重要的是要知道为什么 typeof不再安全.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们知道这个不会工作，假设没有定义全局的notDefined</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(notDefined); <span class="comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在你引用的地方之后声明一个变量，他会正常输出是因为变量作用域上升。</span></span><br><span class="line"><span class="comment">// 注意： declaredButNotAssigned的值没有上升</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(declaredButNotAssigned); <span class="comment">// =&gt; undefined</span></span><br><span class="line">  <span class="keyword">var</span> declaredButNotAssigned = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解释器把变量声明提升到作用域最前面，</span></span><br><span class="line"><span class="comment">// 可以重写成如下例子， 二者意义相同</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> declaredButNotAssigned;</span><br><span class="line">  <span class="built_in">console</span>.log(declaredButNotAssigned); <span class="comment">// =&gt; undefined</span></span><br><span class="line">  declaredButNotAssigned = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用 const， let就不一样了</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(declaredButNotAssigned); <span class="comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">typeof</span> declaredButNotAssigned); <span class="comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">  <span class="keyword">const</span> declaredButNotAssigned = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-2-匿名函数表达式和-var-情况相同">14.2 匿名函数表达式和 <code>var</code> 情况相同</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(anonymous); <span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  anonymous(); <span class="comment">// =&gt; TypeError anonymous is not a function</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> anonymous = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;anonymous function expression&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-3-已命名函数表达式提升他的变量名，不是函数名或函数体">14.3 已命名函数表达式提升他的变量名，不是函数名或函数体</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(named); <span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  named(); <span class="comment">// =&gt; TypeError named is not a function</span></span><br><span class="line"></span><br><span class="line">  superPower(); <span class="comment">// =&gt; ReferenceError superPower is not defined</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> named = <span class="function"><span class="keyword">function</span> <span class="title">superPower</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Flying&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数名和变量名一样是也如此</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(named); <span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  named(); <span class="comment">// =&gt; TypeError named is not a function</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> named = <span class="function"><span class="keyword">function</span> <span class="title">named</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;named&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-4-函数声明则提升了函数名和函数体">14.4 函数声明则提升了函数名和函数体</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  superPower(); <span class="comment">// =&gt; Flying</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">superPower</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Flying&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Comparison-Operators-Equality">Comparison Operators &amp; Equality</h3>
<h4 id="15-1-用-和-而不是-和-eslint-eqeqeq">15.1 用 === 和 !== 而不是 == 和 !=. eslint: <code>eqeqeq</code></h4>
<h4 id="15-2-条件语句如’if’语句使用强制-ToBoolean’抽象方法来评估它们的表达式，并且始终遵循以下简单规则：">15.2 条件语句如’if’语句使用强制`ToBoolean’抽象方法来评估它们的表达式，并且始终遵循以下简单规则：</h4>
<ul>
<li>Objects 计算成 true</li>
<li>Undefined 计算成 false</li>
<li>Null 计算成 false</li>
<li>Booleans 计算成 the value of the boolean</li>
<li>Numbers</li>
<li>+0, -0, or NaN 计算成 false</li>
<li>其他 true</li>
<li>Strings</li>
<li>‘’ 计算成 false</li>
<li>其他 true</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="number">0</span>] &amp;&amp; []) &#123;</span><br><span class="line">  <span class="comment">// true</span></span><br><span class="line">  <span class="comment">// 数组（即使是空数组）是对象，对象会计算成true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="15-3-布尔值用缩写，而字符串和数字要明确比较对象">15.3 布尔值用缩写，而字符串和数字要明确比较对象</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (isValid === <span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (isValid) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (name) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (name !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (collection.length) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (collection.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="15-4-更多信息请见Angus-Croll的真理、平等和JavaScript-——-Truth-Equality-and-JavaScript">15.4 更多信息请见Angus Croll的真理、平等和JavaScript —— Truth Equality and JavaScript</h4>
<h4 id="15-5-在case和default分句里用大括号创建一块包含语法声明的区域-e-g-let-const-function-and-class-eslint-no-case-declarations">15.5 在<code>case</code>和<code>default</code>分句里用大括号创建一块包含语法声明的区域(e.g. <code>let</code>, <code>const</code>, <code>function</code>, and <code>class</code>). eslint: <code>no-case-declarations</code>.</h4>
<blockquote>
<p>Why? 语法声明在整个switch的代码块里都可见，但是只有当其被分配后才会初始化，他的初始化时当这个case被执行时才产生。 当多个case分句试图定义同一个事情时就出问题了</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">switch</span> (foo) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">const</span> y = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">switch</span> (foo) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>: &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">    <span class="keyword">const</span> y = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>: &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    bar();</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>: &#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="15-6-三元表达式不应该嵌套，通常是单行表达式。eslint-no-nested-ternary">15.6 三元表达式不应该嵌套，通常是单行表达式。eslint: <code>no-nested-ternary</code>.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = maybe1 &gt; maybe2</span><br><span class="line">  ? <span class="string">&quot;bar&quot;</span></span><br><span class="line">  : value1 &gt; value2 ? <span class="string">&quot;baz&quot;</span> : <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// better</span></span><br><span class="line"><span class="keyword">const</span> maybeNull = value1 &gt; value2 ? <span class="string">&#x27;baz&#x27;</span> : <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> foo = maybe1 &gt; maybe2</span><br><span class="line">  ? <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">  : maybeNull;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> maybeNull = value1 &gt; value2 ? <span class="string">&#x27;baz&#x27;</span> : <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> foo = maybe1 &gt; maybe2 ? <span class="string">&#x27;bar&#x27;</span> : maybeNull;</span><br></pre></td></tr></table></figure>
<h4 id="15-7-避免不需要的三元表达式。-eslint-no-unneeded-ternary">15.7 避免不需要的三元表达式。 eslint: <code>no-unneeded-ternary</code>.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = a ? a : b;</span><br><span class="line"><span class="keyword">const</span> bar = c ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> baz = c ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = a || b;</span><br><span class="line"><span class="keyword">const</span> bar = !!c;</span><br><span class="line"><span class="keyword">const</span> baz = !c;</span><br></pre></td></tr></table></figure>
<h4 id="15-8-用圆括号来混合这些操作符。-只有当标准的算术运算符-，-并且它们的优先级显而易见时，可以不用圆括号括起来。-eslint-no-mixed-operators">15.8 用圆括号来混合这些操作符。 只有当标准的算术运算符(+, -, *, &amp; /)， 并且它们的优先级显而易见时，可以不用圆括号括起来。 eslint: <code>no-mixed-operators</code></h4>
<blockquote>
<p>Why? 这提高了可读性，并且明确了开发者的意图</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = a &amp;&amp; b &lt; <span class="number">0</span> || c &gt; <span class="number">0</span> || d + <span class="number">1</span> === <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> bar = a ** b - <span class="number">5</span> % d;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// 别人会陷入(a || b) &amp;&amp; c 的迷惑中</span></span><br><span class="line"><span class="keyword">if</span> (a || b &amp;&amp; c) &#123;</span><br><span class="line">  <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = (a &amp;&amp; b &lt; <span class="number">0</span>) || c &gt; <span class="number">0</span> || (d + <span class="number">1</span> === <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> bar = (a ** b) - (<span class="number">5</span> % d);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (a || (b &amp;&amp; c)) &#123;</span><br><span class="line">  <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> bar = a + b / c * d;</span><br></pre></td></tr></table></figure>
<h3 id="Blocks">Blocks</h3>
<h4 id="16-1-用大括号包裹多行代码块。-eslint-nonblock-statement-body-position">16.1 用大括号包裹多行代码块。 eslint: <code>nonblock-statement-body-position</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (test)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="16-2-if表达式的else和if的关闭大括号在一行。-eslint-brace-style">16.2 if表达式的else和if的关闭大括号在一行。 eslint: <code>brace-style</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="16-3-如果-if-语句中总是需要用-return-返回，-那后续的-else-就不需要写了。-if-块中包含-return，-它后面的-else-if-块中也包含了-return，-这个时候就可以把-return-分到多个-if-语句块中。-eslint-no-else-return">16.3 如果 if 语句中总是需要用 return 返回， 那后续的 else 就不需要写了。 if 块中包含 return， 它后面的 else if 块中也包含了 return， 这个时候就可以把 return 分到多个 if 语句块中。 eslint: <code>no-else-return</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cats</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (y) &#123;</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dogs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (y) &#123;</span><br><span class="line">      <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cats</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (y) &#123;</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dogs</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="keyword">if</span> (z) &#123;</span><br><span class="line">      <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Control-Statements">Control Statements</h3>
<h4 id="17-1-当你的控制语句-if-while-等-太长或者超过最大长度限制的时候，-把每一个-组-判断条件放在单独一行里。-逻辑操作符放在行首。">17.1 当你的控制语句(if, while 等)太长或者超过最大长度限制的时候， 把每一个(组)判断条件放在单独一行里。 逻辑操作符放在行首。</h4>
<blockquote>
<p>Why? 把逻辑操作符放在行首是让操作符的对齐方式和链式函数保持一致。这提高了可读性，也让复杂逻辑更容易看清楚。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> ((foo === <span class="number">123</span> || bar === <span class="string">&#x27;abc&#x27;</span>) &amp;&amp; doesItLookGoodWhenItBecomesThatLong() &amp;&amp; isThisReallyHappening()) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (foo === <span class="number">123</span> &amp;&amp;</span><br><span class="line">  bar === <span class="string">&#x27;abc&#x27;</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (foo === <span class="number">123</span></span><br><span class="line">  &amp;&amp; bar === <span class="string">&#x27;abc&#x27;</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  foo === <span class="number">123</span> &amp;&amp;</span><br><span class="line">  bar === <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  foo === <span class="number">123</span></span><br><span class="line">  &amp;&amp; bar === <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  (foo === <span class="number">123</span> || bar === <span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">  &amp;&amp; doesItLookGoodWhenItBecomesThatLong()</span><br><span class="line">  &amp;&amp; isThisReallyHappening()</span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (foo === <span class="number">123</span> &amp;&amp; bar === <span class="string">&#x27;abc&#x27;</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="17-2-不要用选择操作符代替控制语句。">17.2 不要用选择操作符代替控制语句。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">!isRunning &amp;&amp; startRunning();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (!isRunning) &#123;</span><br><span class="line">  startRunning();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Comments">Comments</h3>
<h4 id="18-1-多行注释用">18.1 多行注释用 <code>/** ... */</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// make() returns a new element</span></span><br><span class="line"><span class="comment">// based on the passed in tag name</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// @param &#123;String&#125; tag</span></span><br><span class="line"><span class="comment">// @return &#123;Element&#125; element</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * make() returns a new element</span></span><br><span class="line"><span class="comment"> * based on the passed-in tag name</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-2-单行注释用-，将单行注释放在被注释区域上面。如果注释不是在第一行，那么注释前面就空一行">18.2 单行注释用<code>//</code>，将单行注释放在被注释区域上面。如果注释不是在第一行，那么注释前面就空一行</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span>;  <span class="comment">// is current tab</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// is current tab</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fetching type...&#x27;</span>);</span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>._type || <span class="string">&#x27;no type&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fetching type...&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>._type || <span class="string">&#x27;no type&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// also good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>._type || <span class="string">&#x27;no type&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-3-所有注释开头空一个，方便阅读。-eslint-spaced-comment">18.3 所有注释开头空一个，方便阅读。 eslint: <code>spaced-comment</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">//is current tab</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// is current tab</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *make() returns a new element</span></span><br><span class="line"><span class="comment"> *based on the passed-in tag name</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * make() returns a new element</span></span><br><span class="line"><span class="comment"> * based on the passed-in tag name</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-4-在你的注释前使用FIXME’或TODO’前缀，-这有助于其他开发人员快速理解你指出的需要重新访问的问题，-或者您建议需要实现的问题的解决方案。-这些不同于常规注释，因为它们是可操作的。-动作是FIXME：-需要计算出来或TODO：-需要实现。">18.4 在你的注释前使用FIXME’或TODO’前缀， 这有助于其他开发人员快速理解你指出的需要重新访问的问题， 或者您建议需要实现的问题的解决方案。 这些不同于常规注释，因为它们是可操作的。 动作是FIXME： - 需要计算出来或TODO： - 需要实现。</h4>
<h4 id="18-5-用-FIXME-给问题做注释">18.5 用<code>// FIXME:</code>给问题做注释</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="keyword">extends</span> <span class="title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">FIXME:</span> shouldn&#x27;t use a global here</span></span><br><span class="line">    total = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-6-用-TODO-去注释问题的解决方案">18.6 用<code>// TODO:</code>去注释问题的解决方案</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="keyword">extends</span> <span class="title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> total should be configurable by an options param</span></span><br><span class="line">    <span class="built_in">this</span>.total = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Whitespace">Whitespace</h3>
<h4 id="19-1-tab用两个空格-eslint-indent">19.1 tab用两个空格. eslint: <code>indent</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">∙∙∙∙<span class="keyword">const</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">∙<span class="keyword">const</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">∙∙<span class="keyword">const</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-2-在大括号前空一格。-eslint-space-before-blocks">19.2 在大括号前空一格。 eslint: <code>space-before-blocks</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">dog.set(<span class="string">&#x27;attr&#x27;</span>,&#123;</span><br><span class="line">  age: <span class="string">&#x27;1 year&#x27;</span>,</span><br><span class="line">  breed: <span class="string">&#x27;Bernese Mountain Dog&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">dog.set(<span class="string">&#x27;attr&#x27;</span>, &#123;</span><br><span class="line">  age: <span class="string">&#x27;1 year&#x27;</span>,</span><br><span class="line">  breed: <span class="string">&#x27;Bernese Mountain Dog&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="19-3-在控制语句-if-while-等-的圆括号前空一格。在函数调用和定义时，参数列表和函数名之间不空格。-eslint-keyword-spacing">19.3 在控制语句(if, while 等)的圆括号前空一格。在函数调用和定义时，参数列表和函数名之间不空格。 eslint: <code>keyword-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span>(isJedi) &#123;</span><br><span class="line">  fight ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (isJedi) &#123;</span><br><span class="line">  fight();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fight</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log (<span class="string">&#x27;Swooosh!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fight</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Swooosh!&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-4-用空格来隔开运算符。-eslint-space-infix-ops">19.4 用空格来隔开运算符。 eslint: <code>space-infix-ops</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> x=y+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> x = y + <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<h4 id="19-5-文件结尾空一行-eslint-eol-last">19.5 文件结尾空一行. eslint: <code>eol-last</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;↵</span><br><span class="line">↵</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./AirbnbStyleGuide&#x27;</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;↵</span><br></pre></td></tr></table></figure>
<h4 id="19-6-当出现长的方法链（-2个）时用缩进。用点开头强调该行是一个方法调用，而不是一个新的语句。eslint-newline-per-chained-call-no-whitespace-before-property">19.6 当出现长的方法链（&gt;2个）时用缩进。用点开头强调该行是一个方法调用，而不是一个新的语句。eslint: <code>newline-per-chained-call</code> <code>no-whitespace-before-property</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">$(<span class="string">&#x27;#items&#x27;</span>).find(<span class="string">&#x27;.selected&#x27;</span>).highlight().end().find(<span class="string">&#x27;.open&#x27;</span>).updateCount();</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">$(<span class="string">&#x27;#items&#x27;</span>).</span><br><span class="line">  find(<span class="string">&#x27;.selected&#x27;</span>).</span><br><span class="line">    highlight().</span><br><span class="line">    end().</span><br><span class="line">  find(<span class="string">&#x27;.open&#x27;</span>).</span><br><span class="line">    updateCount();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">$(<span class="string">&#x27;#items&#x27;</span>)</span><br><span class="line">  .find(<span class="string">&#x27;.selected&#x27;</span>)</span><br><span class="line">    .highlight()</span><br><span class="line">    .end()</span><br><span class="line">  .find(<span class="string">&#x27;.open&#x27;</span>)</span><br><span class="line">    .updateCount();</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> leds = stage.selectAll(<span class="string">&#x27;.led&#x27;</span>).data(data).enter().append(<span class="string">&#x27;svg:svg&#x27;</span>).classed(<span class="string">&#x27;led&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line">    .attr(<span class="string">&#x27;width&#x27;</span>, (radius + margin) * <span class="number">2</span>).append(<span class="string">&#x27;svg:g&#x27;</span>)</span><br><span class="line">    .attr(<span class="string">&#x27;transform&#x27;</span>, <span class="string">`translate(<span class="subst">$&#123;radius + margin&#125;</span>,<span class="subst">$&#123;radius + margin&#125;</span>)`</span>)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> leds = stage.selectAll(<span class="string">&#x27;.led&#x27;</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">  .enter().append(<span class="string">&#x27;svg:svg&#x27;</span>)</span><br><span class="line">    .classed(<span class="string">&#x27;led&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line">    .attr(<span class="string">&#x27;width&#x27;</span>, (radius + margin) * <span class="number">2</span>)</span><br><span class="line">  .append(<span class="string">&#x27;svg:g&#x27;</span>)</span><br><span class="line">    .attr(<span class="string">&#x27;transform&#x27;</span>, <span class="string">`translate(<span class="subst">$&#123;radius + margin&#125;</span>,<span class="subst">$&#123;radius + margin&#125;</span>)`</span>)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> leds = stage.selectAll(<span class="string">&#x27;.led&#x27;</span>).data(data);</span><br></pre></td></tr></table></figure>
<h4 id="19-7-在一个代码块后下一条语句前空一行。">19.7 在一个代码块后下一条语句前空一行。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> baz;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> baz;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  foo() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  bar() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  foo() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  bar() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> arr = [</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> arr = [</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> arr;</span><br></pre></td></tr></table></figure>
<h4 id="19-8-不要用空白行填充块。-eslint-padded-blocks">19.8 不要用空白行填充块。 eslint: <code>padded-blocks</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// also bad</span></span><br><span class="line"><span class="keyword">if</span> (baz) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(qux);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (baz) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(qux);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-9不要在代码之间使用多个空白行填充。-eslint-no-multiple-empty-lines">19.9不要在代码之间使用多个空白行填充。 eslint: <code>no-multiple-empty-lines</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(fullName, email, birthday) &#123;</span><br><span class="line">    <span class="built_in">this</span>.fullName = fullName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.email = email;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.setAge(birthday);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  setAge(birthday) &#123;</span><br><span class="line">    <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> age = <span class="built_in">this</span>.getAge(today, birthday);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  getAge(today, birthday) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(fullName, email, birthday) &#123;</span><br><span class="line">    <span class="built_in">this</span>.fullName = fullName;</span><br><span class="line">    <span class="built_in">this</span>.email = email;</span><br><span class="line">    <span class="built_in">this</span>.setAge(birthday);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setAge(birthday) &#123;</span><br><span class="line">    <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">const</span> age = getAge(today, birthday);</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getAge(today, birthday) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-10-圆括号里不要加空格。-eslint-space-in-parens">19.10 圆括号里不要加空格。 eslint: <code>space-in-parens</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"> foo </span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">foo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> ( foo ) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-11-方括号里不要加空格。看示例。-eslint-array-bracket-spacing">19.11 方括号里不要加空格。看示例。 eslint: <code>array-bracket-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ];</span><br><span class="line"><span class="built_in">console</span>.log(foo[ <span class="number">0</span> ]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good， 逗号分隔符还是要空格的</span></span><br><span class="line"><span class="keyword">const</span> foo = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="19-12-花括号里加空格。-eslint-object-curly-spacing">19.12 花括号里加空格。 eslint: <code>object-curly-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = &#123;<span class="attr">clark</span>: <span class="string">&#x27;kent&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = &#123; <span class="attr">clark</span>: <span class="string">&#x27;kent&#x27;</span> &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="19-13-避免一行代码超过100个字符（包含空格）。">19.13 避免一行代码超过100个字符（包含空格）。</h4>
<blockquote>
<p>注意： 对于上面——strings–line-length，长字符串不受此规则限制，不应分解。 eslint: <code>max-len</code></p>
</blockquote>
<blockquote>
<p>Why? 这样确保可读性和可维护性</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = jsonData &amp;&amp; jsonData.foo &amp;&amp; jsonData.foo.bar &amp;&amp; jsonData.foo.bar.baz &amp;&amp; jsonData.foo.bar.baz.quux &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">$.ajax(&#123; <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, <span class="attr">url</span>: <span class="string">&#x27;https://airbnb.com/&#x27;</span>, <span class="attr">data</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span> &#125; &#125;).done(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Congratulations!&#x27;</span>)).fail(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;You have failed this city.&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = jsonData</span><br><span class="line">  &amp;&amp; jsonData.foo</span><br><span class="line">  &amp;&amp; jsonData.foo.bar</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz.quux</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">  method: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  url: <span class="string">&#x27;https://airbnb.com/&#x27;</span>,</span><br><span class="line">  data: &#123; <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span> &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">  .done(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Congratulations!&#x27;</span>))</span><br><span class="line">  .fail(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;You have failed this city.&#x27;</span>));</span><br></pre></td></tr></table></figure>
<h4 id="19-14-作为语句的花括号内也要加空格-——-后和-前都需要空格。-eslint-block-spacing">19.14 作为语句的花括号内也要加空格 —— { 后和 } 前都需要空格。 eslint: <code>block-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span> <span class="literal">true</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (foo) &#123; bar = <span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125;</span><br><span class="line"><span class="keyword">if</span> (foo) &#123; bar = <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-15-前不要空格，-后需要空格。-eslint-comma-spacing">19.15 <code>,</code> 前不要空格， <code>,</code> 后需要空格。 eslint: <code>comma-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">1</span>,bar = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span> , <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">1</span>, bar = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>];</span><br></pre></td></tr></table></figure>
<h4 id="19-16-计算属性内要空格。参考上述花括号和中括号的规则。-eslint-computed-property-spacing">19.16 计算属性内要空格。参考上述花括号和中括号的规则。 eslint: <code>computed-property-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">obj[foo ]</span><br><span class="line">obj[ <span class="string">&#x27;foo&#x27;</span>]</span><br><span class="line"><span class="keyword">var</span> x = &#123;[ b ]: a&#125;</span><br><span class="line">obj[foo[ bar ]]</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">obj[foo]</span><br><span class="line">obj[<span class="string">&#x27;foo&#x27;</span>]</span><br><span class="line"><span class="keyword">var</span> x = &#123; [b]: a &#125;</span><br><span class="line">obj[foo[bar]]</span><br></pre></td></tr></table></figure>
<h4 id="19-17-调用函数时，函数名和小括号之间不要空格。-eslint-func-call-spacing">19.17 调用函数时，函数名和小括号之间不要空格。 eslint: <code>func-call-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">func ();</span><br><span class="line"></span><br><span class="line">func</span><br><span class="line">();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">func();</span><br></pre></td></tr></table></figure>
<h4 id="19-18-在对象的字面量属性中，-key-value-之间要有空格。-eslint-key-spacing">19.18 在对象的字面量属性中， <code>key</code> <code>value</code> 之间要有空格。 eslint: <code>key-spacing</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="string">&quot;foo&quot;</span> : <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123; <span class="string">&quot;foo&quot;</span>:<span class="number">42</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="string">&quot;foo&quot;</span>: <span class="number">42</span> &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="19-19-行末不要空格。-eslint-no-trailing-spaces">19.19 行末不要空格。 eslint: <code>no-trailing-spaces</code></h4>
<h4 id="19-20-避免出现多个空行。-在文件末尾只允许空一行。-eslint-no-multiple-empty-lines">19.20 避免出现多个空行。 在文件末尾只允许空一行。 eslint: <code>no-multiple-empty-lines</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Commas">Commas</h3>
<h4 id="20-1-不要前置逗号。-eslint-comma-style">20.1 不要前置逗号。 eslint: <code>comma-style</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> story = [</span><br><span class="line">    once</span><br><span class="line">  , upon</span><br><span class="line">  , aTime</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> story = [</span><br><span class="line">  once,</span><br><span class="line">  upon,</span><br><span class="line">  aTime,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Ada&#x27;</span></span><br><span class="line">  , <span class="attr">lastName</span>: <span class="string">&#x27;Lovelace&#x27;</span></span><br><span class="line">  , <span class="attr">birthYear</span>: <span class="number">1815</span></span><br><span class="line">  , <span class="attr">superPower</span>: <span class="string">&#x27;computers&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">&#x27;Ada&#x27;</span>,</span><br><span class="line">  lastName: <span class="string">&#x27;Lovelace&#x27;</span>,</span><br><span class="line">  birthYear: <span class="number">1815</span>,</span><br><span class="line">  superPower: <span class="string">&#x27;computers&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="20-2-额外结尾逗号-要-eslint-comma-dangle">20.2 额外结尾逗号: 要 eslint: <code>comma-dangle</code></h4>
<blockquote>
<p>Why? 这导致git diffs更清洁。 此外，像Babel这样的转换器会删除转换代码中的额外的逗号，这意味着你不必担心旧版浏览器中的结尾逗号问题。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad - 没有结尾逗号的 git diff</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">     firstName: <span class="string">&#x27;Florence&#x27;</span>,</span><br><span class="line">-    lastName: <span class="string">&#x27;Nightingale&#x27;</span></span><br><span class="line">+    lastName: <span class="string">&#x27;Nightingale&#x27;</span>,</span><br><span class="line">+    inventorOf: [<span class="string">&#x27;coxcomb chart&#x27;</span>, <span class="string">&#x27;modern nursing&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good - 有结尾逗号的 git diff</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">     firstName: <span class="string">&#x27;Florence&#x27;</span>,</span><br><span class="line">     lastName: <span class="string">&#x27;Nightingale&#x27;</span>,</span><br><span class="line">+    inventorOf: [<span class="string">&#x27;coxcomb chart&#x27;</span>, <span class="string">&#x27;modern nursing&#x27;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">&#x27;Dana&#x27;</span>,</span><br><span class="line">  lastName: <span class="string">&#x27;Scully&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> heroes = [</span><br><span class="line">  <span class="string">&#x27;Batman&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Superman&#x27;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">&#x27;Dana&#x27;</span>,</span><br><span class="line">  lastName: <span class="string">&#x27;Scully&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> heroes = [</span><br><span class="line">  <span class="string">&#x27;Batman&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Superman&#x27;</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createHero</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  firstName,</span></span></span><br><span class="line"><span class="function"><span class="params">  lastName,</span></span></span><br><span class="line"><span class="function"><span class="params">  inventorOf</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createHero</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  firstName,</span></span></span><br><span class="line"><span class="function"><span class="params">  lastName,</span></span></span><br><span class="line"><span class="function"><span class="params">  inventorOf,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good (note that a comma must not appear after a &quot;rest&quot; element)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createHero</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  firstName,</span></span></span><br><span class="line"><span class="function"><span class="params">  lastName,</span></span></span><br><span class="line"><span class="function"><span class="params">  inventorOf,</span></span></span><br><span class="line"><span class="function"><span class="params">  ...heroArgs</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good (note that a comma must not appear after a &quot;rest&quot; element)</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf,</span><br><span class="line">  ...heroArgs</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="Semicolons">Semicolons</h3>
<h4 id="21-1-Yup-eslint-semi">21.1 Yup. eslint: <code>semi</code></h4>
<blockquote>
<p>Why? 当 JavaScript 遇到没有分号结尾的一行，它会执行自动插入分号 Automatic Semicolon Insertion这一规则来决定行末是否加分号。如果JavaScript在你的断行里错误的插入了分号，就会出现一些古怪的行为。当新的功能加到JavaScript里后， 这些规则会变得更复杂难懂。显示的结束语句，并通过配置代码检查去捕获没有带分号的地方可以帮助你防止这种错误。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="string">&#x27;Skywalker&#x27;</span></span><br><span class="line">  <span class="keyword">return</span> name</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="string">&#x27;Skywalker&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="comment">// good, 行首加分号，避免文件被连接到一起时立即执行函数被当做变量来执行。</span></span><br><span class="line">;(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="string">&#x27;Skywalker&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h3 id="Type-Casting-Coercion">Type Casting &amp; Coercion</h3>
<h4 id="22-1-在语句开始执行强制类型转换。">22.1 在语句开始执行强制类型转换。</h4>
<h4 id="22-2-Strings-eslint-no-new-wrappers">22.2 Strings: eslint: <code>no-new-wrappers</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =&gt; this.reviewScore = 9;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> totalScore = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="built_in">this</span>.reviewScore); <span class="comment">// typeof totalScore is &quot;object&quot; not &quot;string&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> totalScore = <span class="built_in">this</span>.reviewScore + <span class="string">&#x27;&#x27;</span>; <span class="comment">// invokes this.reviewScore.valueOf()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> totalScore = <span class="built_in">this</span>.reviewScore.toString(); <span class="comment">// 不保证返回string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> totalScore = <span class="built_in">String</span>(<span class="built_in">this</span>.reviewScore);</span><br></pre></td></tr></table></figure>
<h4 id="22-3-Numbers-用-Number-做类型转换，parseInt转换string常需要带上基数。-eslint-radix">22.3 Numbers: 用 <code>Number</code> 做类型转换，<code>parseInt</code>转换string常需要带上基数。 eslint: <code>radix</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inputValue = <span class="string">&#x27;4&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> val = <span class="keyword">new</span> <span class="built_in">Number</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> val = +inputValue;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> val = inputValue &gt;&gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> val = <span class="built_in">parseInt</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> val = <span class="built_in">Number</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> val = <span class="built_in">parseInt</span>(inputValue, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h4 id="22-4-请在注释中解释为什么要用移位运算和你在做什么。无论你做什么狂野的事，比如由于-parseInt-是你的性能瓶颈导致你一定要用移位运算。-请说明这个是因为性能原因">22.4 请在注释中解释为什么要用移位运算和你在做什么。无论你做什么狂野的事，比如由于 <code>parseInt</code> 是你的性能瓶颈导致你一定要用移位运算。 请说明这个是因为性能原因,</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * parseInt是代码运行慢的原因</span></span><br><span class="line"><span class="comment"> * 用Bitshifting将字符串转成数字使代码运行效率大幅增长</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> val = inputValue &gt;&gt; <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<h4 id="22-5-注意-用移位运算要小心-数字使用64-位表示的，但移位运算常常返回的是32为整形source-。移位运算对大于32位的整数会导致意外行为。Discussion-最大的32位整数是-2-147-483-647">22.5 注意: 用移位运算要小心. 数字使用64-位表示的，但移位运算常常返回的是32为整形source)。移位运算对大于32位的整数会导致意外行为。Discussion. 最大的32位整数是 2,147,483,647:</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2147483647</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; 2147483647</span></span><br><span class="line"><span class="number">2147483648</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483648</span></span><br><span class="line"><span class="number">2147483649</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483647</span></span><br></pre></td></tr></table></figure>
<h4 id="22-6-布尔">22.6 布尔:</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> hasAge = <span class="keyword">new</span> <span class="built_in">Boolean</span>(age);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> hasAge = <span class="built_in">Boolean</span>(age);</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> hasAge = !!age;</span><br></pre></td></tr></table></figure>
<h3 id="Naming-Conventions">Naming Conventions</h3>
<h4 id="23-1-避免用一个字母命名，让你的命名可描述。-eslint-id-length">23.1 避免用一个字母命名，让你的命名可描述。 eslint: <code>id-length</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">q</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="23-2-用小驼峰式命名你的对象、函数、实例。-eslint-camelcase">23.2 用小驼峰式命名你的对象、函数、实例。 eslint: <code>camelcase</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> OBJEcttsssss = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> this_is_my_object = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> thisIsMyObject = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">thisIsMyFunction</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="23-3-用大驼峰式命名类。-eslint-new-cap">23.3 用大驼峰式命名类。 eslint: <code>new-cap</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">user</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = options.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bad = <span class="keyword">new</span> user(&#123;</span><br><span class="line">  name: <span class="string">&#x27;nope&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = options.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> good = <span class="keyword">new</span> User(&#123;</span><br><span class="line">  name: <span class="string">&#x27;yup&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="23-4-不要用前置或后置下划线。-eslint-no-underscore-dangle">23.4 不要用前置或后置下划线。 eslint: <code>no-underscore-dangle</code></h4>
<blockquote>
<p>Why? JavaScript 没有私有属性或私有方法的概念。尽管前置下划线通常的概念上意味着“private”，事实上，这些属性是完全公有的，因此这部分也是你的API的内容。这一概念可能会导致开发者误以为更改这个不会导致崩溃或者不需要测试。 如果你想要什么东西变成“private”，那就不要让它在这里出现。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">this</span>.__firstName__ = <span class="string">&#x27;Panda&#x27;</span>;</span><br><span class="line"><span class="built_in">this</span>.firstName_ = <span class="string">&#x27;Panda&#x27;</span>;</span><br><span class="line"><span class="built_in">this</span>._firstName = <span class="string">&#x27;Panda&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">this</span>.firstName = <span class="string">&#x27;Panda&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="23-5-不要保存引用this，-用箭头函数或函数绑定——Function-bind">23.5 不要保存引用this， 用箭头函数或函数绑定——Function#bind.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(self);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(that);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="23-6-export-default导出模块A，则这个文件名也叫A-，-import-时候的参数也叫A。-大小写完全一致。">23.6 export default导出模块A，则这个文件名也叫A.*， import 时候的参数也叫A。 大小写完全一致。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file 1 contents</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CheckBox</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> CheckBox;</span><br><span class="line"></span><br><span class="line"><span class="comment">// file 2 contents</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">fortyTwo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">42</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// file 3 contents</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">insideDirectory</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// in some other file</span></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> CheckBox <span class="keyword">from</span> <span class="string">&#x27;./checkBox&#x27;</span>; <span class="comment">// PascalCase import/export, camelCase filename</span></span><br><span class="line"><span class="keyword">import</span> FortyTwo <span class="keyword">from</span> <span class="string">&#x27;./FortyTwo&#x27;</span>; <span class="comment">// PascalCase import/filename, camelCase export</span></span><br><span class="line"><span class="keyword">import</span> InsideDirectory <span class="keyword">from</span> <span class="string">&#x27;./InsideDirectory&#x27;</span>; <span class="comment">// PascalCase import/filename, camelCase export</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> CheckBox <span class="keyword">from</span> <span class="string">&#x27;./check_box&#x27;</span>; <span class="comment">// PascalCase import/export, snake_case filename</span></span><br><span class="line"><span class="keyword">import</span> forty_two <span class="keyword">from</span> <span class="string">&#x27;./forty_two&#x27;</span>; <span class="comment">// snake_case import/filename, camelCase export</span></span><br><span class="line"><span class="keyword">import</span> inside_directory <span class="keyword">from</span> <span class="string">&#x27;./inside_directory&#x27;</span>; <span class="comment">// snake_case import, camelCase export</span></span><br><span class="line"><span class="keyword">import</span> index <span class="keyword">from</span> <span class="string">&#x27;./inside_directory/index&#x27;</span>; <span class="comment">// requiring the index file explicitly</span></span><br><span class="line"><span class="keyword">import</span> insideDirectory <span class="keyword">from</span> <span class="string">&#x27;./insideDirectory/index&#x27;</span>; <span class="comment">// requiring the index file explicitly</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> CheckBox <span class="keyword">from</span> <span class="string">&#x27;./CheckBox&#x27;</span>; <span class="comment">// PascalCase export/import/filename</span></span><br><span class="line"><span class="keyword">import</span> fortyTwo <span class="keyword">from</span> <span class="string">&#x27;./fortyTwo&#x27;</span>; <span class="comment">// camelCase export/import/filename</span></span><br><span class="line"><span class="keyword">import</span> insideDirectory <span class="keyword">from</span> <span class="string">&#x27;./insideDirectory&#x27;</span>; <span class="comment">// camelCase export/import/directory name/implicit &quot;index&quot;</span></span><br><span class="line"><span class="comment">// ^ supports both insideDirectory.js and insideDirectory/index.js</span></span><br></pre></td></tr></table></figure>
<h4 id="23-7-当你export-default一个函数时，函数名用小驼峰，文件名需要和函数名一致。">23.7 当你export-default一个函数时，函数名用小驼峰，文件名需要和函数名一致。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeStyleGuide</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> makeStyleGuide;</span><br></pre></td></tr></table></figure>
<h4 id="23-8-当你export一个结构体-类-单例-函数库-对象-时用大驼峰。">23.8 当你export一个结构体/类/单例/函数库/对象 时用大驼峰。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> AirbnbStyleGuide = &#123;</span><br><span class="line">  es6: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> AirbnbStyleGuide;</span><br></pre></td></tr></table></figure>
<h4 id="23-9-简称和缩写应该全部大写或全部小写。">23.9 简称和缩写应该全部大写或全部小写。</h4>
<blockquote>
<p>Why? 名字都是给人读的，不是为了适应电脑的算法的。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> SmsContainer <span class="keyword">from</span> <span class="string">&#x27;./containers/SmsContainer&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> HttpRequests = [</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> SMSContainer <span class="keyword">from</span> <span class="string">&#x27;./containers/SMSContainer&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> HTTPRequests = [</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// also good</span></span><br><span class="line"><span class="keyword">const</span> httpRequests = [</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">import</span> TextMessageContainer <span class="keyword">from</span> <span class="string">&#x27;./containers/TextMessageContainer&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> requests = [</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h4 id="23-10-你可以用全大写字母设置静态变量，他需要满足三个条件。">23.10 你可以用全大写字母设置静态变量，他需要满足三个条件。</h4>
<blockquote>
<ol>
<li>导出变量</li>
<li>是 const 定义的， 保证不能被改变</li>
<li>这个变量是可信的，他的子属性都是不能被改变的</li>
</ol>
</blockquote>
<blockquote>
<p>Why? 这是一个附加工具，帮助开发者去辨识一个变量是不是不可变的。</p>
<ul>
<li>对于所有的 const 变量呢？ —— 这个是不必要的。大写变量不应该在同一个文件里定义并使用， 它只能用来作为导出变量。 赞同！</li>
<li>那导出的对象呢？ —— 大写变量处在export的最高级(e.g. EXPORTED_OBJECT.key) 并且他包含的所有子属性都是不可变的。</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> PRIVATE_VARIABLE = <span class="string">&#x27;should not be unnecessarily uppercased within a file&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> THING_TO_BE_CHANGED = <span class="string">&#x27;should obviously not be uppercased&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> REASSIGNABLE_VARIABLE = <span class="string">&#x27;do not use let with uppercase variables&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许但不够语义化</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> apiKey = <span class="string">&#x27;SOMEKEY&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在大多数情况下更好</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> API_KEY = <span class="string">&#x27;SOMEKEY&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad - 不必要的大写键，没有增加任何语义</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> MAPPING = &#123;</span><br><span class="line">  KEY: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> MAPPING = &#123;</span><br><span class="line">  key: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Accessors">Accessors</h3>
<h4 id="24-1-不需要使用属性的访问器函数。">24.1 不需要使用属性的访问器函数。</h4>
<h4 id="24-2-不要使用JavaScript的getters-setters，因为他们会产生副作用，并且难以测试、维护和理解。相反的，你可以用-getVal-和setVal-hello-去创造你自己的accessor函数">24.2 不要使用JavaScript的<code>getters/setters</code>，因为他们会产生副作用，并且难以测试、维护和理解。相反的，你可以用 <code>getVal()</code>和<code>setVal('hello')</code>去创造你自己的accessor函数</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dragon</span> </span>&#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">age</span>() &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">age</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dragon</span> </span>&#123;</span><br><span class="line">  getAge() &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setAge(value) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="24-3-如果属性-方法是boolean，-用-isVal-或-hasVal">24.3 如果属性/方法是<code>boolean</code>， 用 <code>isVal()</code> 或 <code>hasVal()</code></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (!dragon.age()) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (!dragon.hasAge()) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="24-4-用get-和set-函数是可以的，但是要一起用">24.4 用<code>get()</code>和<code>set()</code>函数是可以的，但是要一起用</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">const</span> lightsaber = options.lightsaber || <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.set(<span class="string">&#x27;lightsaber&#x27;</span>, lightsaber);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  set(key, val) &#123;</span><br><span class="line">    <span class="built_in">this</span>[key] = val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get(key) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>[key];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Events">Events</h3>
<h4 id="25-1-通过哈希而不是原始值向事件装载数据时-不论是DOM事件还是像Backbone事件的很多属性-。-这使得后续的贡献者（程序员）向这个事件装载更多的数据时不用去找或者更新每个处理器。例如：">25.1 通过哈希而不是原始值向事件装载数据时(不论是DOM事件还是像Backbone事件的很多属性)。 这使得后续的贡献者（程序员）向这个事件装载更多的数据时不用去找或者更新每个处理器。例如：</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">$(<span class="built_in">this</span>).trigger(<span class="string">&#x27;listingUpdated&#x27;</span>, listing.id);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">$(<span class="built_in">this</span>).on(<span class="string">&#x27;listingUpdated&#x27;</span>, <span class="function">(<span class="params">e, listingID</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do something with listingID</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>prefer:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line">$(<span class="built_in">this</span>).trigger(<span class="string">&#x27;listingUpdated&#x27;</span>, &#123; <span class="attr">listingID</span>: listing.id &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">$(<span class="built_in">this</span>).on(<span class="string">&#x27;listingUpdated&#x27;</span>, <span class="function">(<span class="params">e, data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do something with data.listingID</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="jQuery对象">jQuery对象</h3>
<h4 id="26-1-jQuery对象用-变量表示。">26.1 jQuery对象用$变量表示。</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> sidebar = $(<span class="string">&#x27;.sidebar&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> $sidebar = $(<span class="string">&#x27;.sidebar&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> $sidebarBtn = $(<span class="string">&#x27;.sidebar-btn&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="26-2-暂存jQuery查找">26.2 暂存jQuery查找</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">&#x27;.sidebar&#x27;</span>).hide();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  $(<span class="string">&#x27;.sidebar&#x27;</span>).css(&#123;</span><br><span class="line">    <span class="string">&#x27;background-color&#x27;</span>: <span class="string">&#x27;pink&#x27;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> $sidebar = $(<span class="string">&#x27;.sidebar&#x27;</span>);</span><br><span class="line">  $sidebar.hide();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  $sidebar.css(&#123;</span><br><span class="line">    <span class="string">&#x27;background-color&#x27;</span>: <span class="string">&#x27;pink&#x27;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="26-3-DOM查找用层叠式-‘-sidebar-ul’-或-父节点-子节点-‘-sidebar-ul’-jsPerf">26.3 DOM查找用层叠式$(‘.sidebar ul’) 或 父节点 &gt; 子节点 $(‘.sidebar &gt; ul’). jsPerf</h4>
<h4 id="26-4-用jQuery对象查询作用域的find方法查询">26.4 用jQuery对象查询作用域的find方法查询</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">$(<span class="string">&#x27;ul&#x27;</span>, <span class="string">&#x27;.sidebar&#x27;</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">$(<span class="string">&#x27;.sidebar&#x27;</span>).find(<span class="string">&#x27;ul&#x27;</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">$(<span class="string">&#x27;.sidebar ul&#x27;</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">$(<span class="string">&#x27;.sidebar &gt; ul&#x27;</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">$sidebar.find(<span class="string">&#x27;ul&#x27;</span>).hide();</span><br></pre></td></tr></table></figure>
<h3 id="ES5-兼容性">ES5 兼容性</h3>
<h4 id="27-1-参考Kangax的ES5兼容性列表">27.1 参考Kangax的ES5兼容性列表.</h4>
<h3 id="ECMAScript-6-ES-2015-Styles">ECMAScript 6+ (ES 2015+) Styles</h3>
<h4 id="28-1-这是收集到的各种ES6特性的链接">28.1 这是收集到的各种ES6特性的链接</h4>
<ol>
<li>箭头函数——Arrow Functions</li>
<li>类——Classes</li>
<li>对象缩写——Object Shorthand</li>
<li>对象简写——Object Concise</li>
<li>对象计算属性——Object Computed Properties</li>
<li>模板字符串——Template Strings</li>
<li>解构赋值——Destructuring</li>
<li>默认参数——Default Parameters</li>
<li>Rest</li>
<li>Array Spreads</li>
<li>Let and Const</li>
<li>幂操作符——Exponentiation Operator</li>
<li>迭代器和生成器——Iterators and Generators</li>
<li>模块——Modules</li>
</ol>
<h4 id="28-2-不要用TC39-proposals，-TC39还没有到-stage-3。">28.2 不要用TC39 proposals， TC39还没有到 stage 3。</h4>
<blockquote>
<p>Why? 它还不是最终版, 他可能还有很多变化，或者被撤销。 我们想要用的是 JavaScript， 提议还不是JavaScript。</p>
</blockquote>
<h3 id="Standard-Library">Standard Library</h3>
<p>标准库中包含一些功能受损但是由于历史原因遗留的工具类</p>
<h4 id="29-1-用-Number-isNaN-代替全局的-isNaN-eslint-no-restricted-globals">29.1 用 Number.isNaN 代替全局的 isNaN. eslint: <code>no-restricted-globals</code></h4>
<blockquote>
<p>Why? 全局 isNaN 强制把非数字转成数字， 然后对于任何强转后为 NaN 的变量都返回 true 如果你想用这个功能，就显式的用它。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">&#x27;1.2&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">&#x27;1.2.3&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&#x27;1.2.3&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="built_in">Number</span>(<span class="string">&#x27;1.2.3&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="29-2-用-Number-isFinite-代替-isFinite-eslint-no-restricted-globals">29.2 用 Number.isFinite 代替 isFinite. eslint: <code>no-restricted-globals</code></h4>
<blockquote>
<p>Why? 理由同上，会把一个非数字变量强转成数字，然后做判断。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">&#x27;2e3&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">&#x27;2e3&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="built_in">parseInt</span>(<span class="string">&#x27;2e3&#x27;</span>, <span class="number">10</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="Testing">Testing</h3>
<h4 id="30-1-Yup">30.1 Yup.</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="30-2-No-but-seriously">30.2 No, but seriously:</h4>
<ul>
<li>无论用那个测试框架，你都需要写测试。</li>
<li>尽量去写很多小而美的纯函数，减少突变的发生</li>
<li>小心 stub 和 mock —— 这会让你的测试变得脆弱。</li>
<li>在 Airbnb 首选 mocha。 tape 偶尔被用来测试一些小的，独立的模块。</li>
<li>100%测试覆盖率是我们努力的目标，即便实际上很少达到。</li>
<li>每当你修了一个bug， 都要写一个回归测试。 一个bug修复了，没有回归测试，很可能以后会再次出问题。</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/09/27/wechat/wei-xin-xiao-cheng-xu-bi-ji/" rel="prev" title="微信小程序">
      <i class="fa fa-chevron-left"></i> 微信小程序
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/10/09/javascript/zheng-ze-biao-da-shi/" rel="next" title="正则表达式">
      正则表达式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types"><span class="nav-number">1.</span> <span class="nav-text">Types</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B-%E4%BD%A0%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%8E%B7%E5%8F%96%E5%88%B0%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%80%BC"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 基本类型: 你可以直接获取到基本类型的值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-%E5%A4%8D%E6%9D%82%E7%B1%BB%E5%9E%8B-%E5%A4%8D%E6%9D%82%E7%B1%BB%E5%9E%8B%E8%B5%8B%E5%80%BC%E6%98%AF%E8%8E%B7%E5%8F%96%E5%88%B0%E4%BB%96%E7%9A%84%E5%BC%95%E7%94%A8%E7%9A%84%E5%80%BC%E3%80%82-%E7%9B%B8%E5%BD%93%E4%BA%8E%E4%BC%A0%E5%BC%95%E7%94%A8"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 复杂类型: 复杂类型赋值是获取到他的引用的值。 相当于传引用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-javascript-%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 javascript 判断数据类型方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#References"><span class="nav-number">2.</span> <span class="nav-text">References</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E6%89%80%E6%9C%89%E7%9A%84%E8%B5%8B%E5%80%BC%E9%83%BD%E7%94%A8-const%EF%BC%8C%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8var-eslint-prefer-const-no-const-assign"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 所有的赋值都用 const，避免使用var. eslint: prefer-const, no-const-assign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E5%A6%82%E6%9E%9C%E4%BD%A0%E4%B8%80%E5%AE%9A%E8%A6%81%E5%AF%B9%E5%8F%82%E6%95%B0%E9%87%8D%E6%96%B0%E8%B5%8B%E5%80%BC%EF%BC%8C%E9%82%A3%E5%B0%B1%E7%94%A8let%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AFvar-eslint-no-var"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 如果你一定要对参数重新赋值，那就用let，而不是var. eslint: no-var</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-%E6%B3%A8%E6%84%8F%EF%BC%9A-let%E3%80%81const-%E9%83%BD%E6%98%AF%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 注意： let、const 都是块级作用域</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Objects"><span class="nav-number">3.</span> <span class="nav-text">Objects</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E4%BD%BF%E7%94%A8%E5%AD%97%E9%9D%A2%E5%80%BC%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1-eslint-no-new-object"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 使用字面值创建对象. eslint: no-new-object</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E5%BD%93%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6%E6%9C%89%E5%8A%A8%E6%80%81%E5%B1%9E%E6%80%A7%E5%90%8D%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%97%B6%EF%BC%8C%E7%94%A8%E8%AE%A1%E7%AE%97%E5%90%8E%E5%B1%9E%E6%80%A7%E5%90%8D"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 当创建一个带有动态属性名的对象时，用计算后属性名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%E7%AE%80%E5%86%99-eslint-object-shorthand"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 用对象方法简写. eslint: object-shorthand</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-%E7%94%A8%E5%B1%9E%E6%80%A7%E5%80%BC%E7%BC%A9%E5%86%99-eslint-object-shorthand"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 用属性值缩写. eslint: object-shorthand</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-%E5%B0%86%E4%BD%A0%E7%9A%84%E6%89%80%E6%9C%89%E7%BC%A9%E5%86%99%E6%94%BE%E5%9C%A8%E5%AF%B9%E8%B1%A1%E5%A3%B0%E6%98%8E%E7%9A%84%E5%BC%80%E5%A7%8B"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 将你的所有缩写放在对象声明的开始.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-%E5%8F%AA%E5%AF%B9%E9%82%A3%E4%BA%9B%E6%97%A0%E6%95%88%E7%9A%84%E6%A0%87%E7%A4%BA%E4%BD%BF%E7%94%A8%E5%BC%95%E5%8F%B7-%E2%80%98%E2%80%99-eslint-quote-props"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 只对那些无效的标示使用引号 ‘’. eslint: quote-props</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-7-%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8Object-prototype%E4%B8%8A%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%A6%82hasOwnProperty-propertyIsEnumerable-isPrototypeOf%E3%80%82"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 不要直接调用Object.prototype上的方法，如hasOwnProperty, propertyIsEnumerable, isPrototypeOf。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-8-%E5%AF%B9%E8%B1%A1%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%97%B6%EF%BC%8C%E6%9B%B4%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6-%E5%B0%B1%E6%98%AF-%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AFObject-assign%E3%80%82%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E6%8C%87%E5%AE%9A%E7%9A%84%E5%87%A0%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%97%B6%EF%BC%8C%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%9A%84rest%E8%A7%A3%E6%9E%84%E8%BF%90%E7%AE%97%E7%AC%A6-%E4%B9%9F%E6%98%AF-%E8%BF%90%E7%AE%97%E7%AC%A6-%E6%9B%B4%E5%A5%BD%E3%80%82"><span class="nav-number">3.8.</span> <span class="nav-text">3.8 对象浅拷贝时，更推荐使用扩展运算符[就是...运算符]，而不是Object.assign。获取对象指定的几个属性时，用对象的rest解构运算符[也是...运算符]更好。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrays"><span class="nav-number">4.</span> <span class="nav-text">Arrays</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-%E7%94%A8%E5%AD%97%E9%9D%A2%E9%87%8F%E8%B5%8B%E5%80%BC%E3%80%82-eslint-no-array-constructor"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 用字面量赋值。 eslint: no-array-constructor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-%E7%94%A8Array-push-%E4%BB%A3%E6%9B%BF%E7%9B%B4%E6%8E%A5%E5%90%91%E6%95%B0%E7%BB%84%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%80%BC%E3%80%82"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 用Array#push 代替直接向数组中添加一个值。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-%E7%94%A8%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E5%81%9A%E6%95%B0%E7%BB%84%E6%B5%85%E6%8B%B7%E8%B4%9D%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 用扩展运算符做数组浅拷贝，类似上面的对象浅拷贝</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-%E7%94%A8-%E8%BF%90%E7%AE%97%E7%AC%A6%E8%80%8C%E4%B8%8D%E6%98%AFArray-from%E6%9D%A5%E5%B0%86%E4%B8%80%E4%B8%AA%E5%8F%AF%E8%BF%AD%E4%BB%A3%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E7%BB%84%E3%80%82"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 用 ... 运算符而不是Array.from来将一个可迭代的对象转换成数组。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-%E7%94%A8-Array-from-%E5%8E%BB%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%88%90%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E3%80%82"><span class="nav-number">4.5.</span> <span class="nav-text">4.5 用 Array.from 去将一个类数组对象转成一个数组。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-6-%E7%94%A8-Array-from-%E8%80%8C%E4%B8%8D%E6%98%AF-%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8E%BB%E5%81%9Amap%E9%81%8D%E5%8E%86%E3%80%82-%E5%9B%A0%E4%B8%BA%E8%BF%99%E6%A0%B7%E5%8F%AF%E4%BB%A5%E9%81%BF%E5%85%8D%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E6%95%B0%E7%BB%84%E3%80%82"><span class="nav-number">4.6.</span> <span class="nav-text">4.6 用 Array.from 而不是 ... 运算符去做map遍历。 因为这样可以避免创建一个临时数组。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-7-%E5%9C%A8%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%B8%AD%E4%BD%BF%E7%94%A8-return-%E8%AF%AD%E5%8F%A5%E3%80%82-%E5%A6%82%E6%9E%9C%E5%87%BD%E6%95%B0%E4%BD%93%E7%94%B1%E4%B8%80%E6%9D%A1%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E8%AF%AD%E5%8F%A5%E7%BB%84%E6%88%90%EF%BC%8C-%E5%B9%B6%E4%B8%94%E8%BF%99%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B2%A1%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%8C-%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E5%8F%AF%E4%BB%A5%E5%BF%BD%E7%95%A5return%EF%BC%8C%E8%AF%A6%E8%A7%81-8-2-eslint-array-callback-return%E3%80%82"><span class="nav-number">4.7.</span> <span class="nav-text">4.7 在数组方法的回调函数中使用 return 语句。 如果函数体由一条返回一个表达式的语句组成， 并且这个表达式没有副作用， 这个时候可以忽略return，详见 8.2. eslint: array-callback-return。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-8-%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E6%9C%89%E5%BE%88%E5%A4%9A%E8%A1%8C%EF%BC%8C%E5%9C%A8%E6%95%B0%E7%BB%84%E7%9A%84-%E5%90%8E%E5%92%8C-%E5%89%8D%E6%96%AD%E8%A1%8C%E3%80%82-%E8%AF%B7%E7%9C%8B%E4%B8%8B%E9%9D%A2%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.8.</span> <span class="nav-text">4.8 如果一个数组有很多行，在数组的 [ 后和 ] 前断行。 请看下面示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Destructuring"><span class="nav-number">5.</span> <span class="nav-text">Destructuring</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%92%8C%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%9F%90%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%B1%9E%E6%80%A7%E5%80%BC%E3%80%82-eslint-prefer-destructuring"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 用对象的解构赋值来获取和使用对象某个或多个属性值。 eslint: prefer-destructuring</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-%E7%94%A8%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84%E3%80%82"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 用数组解构。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84%E3%80%82"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 多个返回值用对象的解构，而不是数组解构。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Strings"><span class="nav-number">6.</span> <span class="nav-text">Strings</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-%E5%AF%B9string%E7%94%A8%E5%8D%95%E5%BC%95%E5%8F%B7-%E2%80%98%E2%80%99-%E3%80%82-eslint-quotes"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 对string用单引号 ‘’ 。 eslint: quotes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-%E8%B6%85%E8%BF%87100%E4%B8%AA%E5%AD%97%E7%AC%A6%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8D%E5%BA%94%E8%AF%A5%E7%94%A8string%E4%B8%B2%E8%81%94%E6%88%90%E5%A4%9A%E8%A1%8C%E3%80%82"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 超过100个字符的字符串不应该用string串联成多行。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A8%A1%E6%9D%BF%E8%80%8C%E4%B8%8D%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%9D%A5%E7%BB%84%E7%BB%87%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82-eslint-prefer-template-template-curly-spacing"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 用字符串模板而不是字符串拼接来组织可编程字符串。 eslint: prefer-template template-curly-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-4-%E6%B0%B8%E8%BF%9C%E4%B8%8D%E8%A6%81%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%94%A8eval-%EF%BC%8C%E4%BB%96%E5%B0%B1%E6%98%AF%E6%BD%98%E5%A4%9A%E6%8B%89%E7%9B%92%E5%AD%90%E3%80%82-eslint-no-eval"><span class="nav-number">6.4.</span> <span class="nav-text">6.4 永远不要在字符串中用eval()，他就是潘多拉盒子。 eslint: no-eval</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-5-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E3%80%82eslint-no-useless-escape"><span class="nav-number">6.5.</span> <span class="nav-text">6.5 不要使用不必要的转义字符。eslint: no-useless-escape</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions"><span class="nav-number">7.</span> <span class="nav-text">Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-%E7%94%A8%E5%91%BD%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%80%8C%E4%B8%8D%E6%98%AF%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E3%80%82eslint-func-style"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 用命名函数表达式而不是函数声明。eslint: func-style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-%E6%8A%8A%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%E5%8C%85%E8%A3%B9%E5%9C%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E9%87%8C%E3%80%82-eslint-wrap-iife"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 把立即执行函数包裹在圆括号里。 eslint: wrap-iife</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-1-IIFE"><span class="nav-number">7.3.</span> <span class="nav-text">7.2.1 IIFE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-%E4%B8%8D%E8%A6%81%E5%9C%A8%E9%9D%9E%E5%87%BD%E6%95%B0%E5%9D%97%EF%BC%88if%E3%80%81while%E7%AD%89%E7%AD%89%EF%BC%89%E5%86%85%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E3%80%82%E6%8A%8A%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E5%88%86%E9%85%8D%E7%BB%99%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E3%80%82%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BC%9A%E5%85%81%E8%AE%B8%E4%BD%A0%E8%BF%99%E6%A0%B7%E5%81%9A%EF%BC%8C%E4%BD%86%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F%E4%B8%8D%E5%90%8C%EF%BC%8C%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%9D%8F%E6%B6%88%E6%81%AF%E3%80%82%E3%80%90%E8%AF%A6%E8%A7%81no-loop-func%E3%80%91-eslint-no-loop-func"><span class="nav-number">7.4.</span> <span class="nav-text">7.3 不要在非函数块（if、while等等）内声明函数。把这个函数分配给一个变量。浏览器会允许你这样做，但浏览器解析方式不同，这是一个坏消息。【详见no-loop-func】 eslint: no-loop-func</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-Note-%E5%9C%A8ECMA-262%E4%B8%AD-%E5%9D%97-block-%E7%9A%84%E5%AE%9A%E4%B9%89%E6%98%AF%EF%BC%9A-%E4%B8%80%E7%B3%BB%E5%88%97%E7%9A%84%E8%AF%AD%E5%8F%A5%EF%BC%9B-%E4%BD%86%E6%98%AF%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E8%AF%AD%E5%8F%A5%E3%80%82-%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%98%AF%E4%B8%80%E4%B8%AA%E8%AF%AD%E5%8F%A5%E3%80%82"><span class="nav-number">7.5.</span> <span class="nav-text">7.4 Note: 在ECMA-262中 [块 block] 的定义是： 一系列的语句； 但是函数声明不是一个语句。 函数表达式是一个语句。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-5-%E4%B8%8D%E8%A6%81%E7%94%A8arguments%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E3%80%82%E4%BB%96%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E9%AB%98%E4%BA%8E%E6%AF%8F%E4%B8%AA%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%87%AA%E5%B8%A6%E7%9A%84arguments%E5%AF%B9%E8%B1%A1%EF%BC%8C-%E8%BF%99%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%87%BD%E6%95%B0%E8%87%AA%E5%B8%A6%E7%9A%84arguments%E5%80%BC%E8%A2%AB%E8%A6%86%E7%9B%96"><span class="nav-number">7.6.</span> <span class="nav-text">7.5 不要用arguments命名参数。他的优先级高于每个函数作用域自带的arguments对象， 这会导致函数自带的arguments值被覆盖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-6-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8arguments%EF%BC%8C%E7%94%A8rest%E8%AF%AD%E6%B3%95-%E4%BB%A3%E6%9B%BF%E3%80%82-eslint-prefer-rest-params"><span class="nav-number">7.7.</span> <span class="nav-text">7.6 不要使用arguments，用rest语法...代替。 eslint: prefer-rest-params</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-7-%E7%94%A8%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E8%AF%AD%E6%B3%95%E8%80%8C%E4%B8%8D%E6%98%AF%E5%9C%A8%E5%87%BD%E6%95%B0%E9%87%8C%E5%AF%B9%E5%8F%82%E6%95%B0%E9%87%8D%E6%96%B0%E8%B5%8B%E5%80%BC%E3%80%82"><span class="nav-number">7.8.</span> <span class="nav-text">7.7 用默认参数语法而不是在函数里对参数重新赋值。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-8-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E9%81%BF%E5%85%8D%E5%89%AF%E4%BD%9C%E7%94%A8"><span class="nav-number">7.9.</span> <span class="nav-text">7.8 默认参数避免副作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-9-%E6%8A%8A%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E8%B5%8B%E5%80%BC%E6%94%BE%E5%9C%A8%E6%9C%80%E5%90%8E"><span class="nav-number">7.10.</span> <span class="nav-text">7.9 把默认参数赋值放在最后</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-10-%E4%B8%8D%E8%A6%81%E7%94%A8%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%99%A8%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E3%80%82-eslint-no-new-func"><span class="nav-number">7.11.</span> <span class="nav-text">7.10 不要用函数构造器创建函数。 eslint: no-new-func</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-11-%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E9%83%A8%E5%88%86%E8%A6%81%E6%9C%89%E7%A9%BA%E6%A0%BC%E3%80%82eslint-space-before-function-paren-space-before-blocks"><span class="nav-number">7.12.</span> <span class="nav-text">7.11 函数签名部分要有空格。eslint: space-before-function-paren space-before-blocks</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-12-%E4%B8%8D%E8%A6%81%E6%94%B9%E5%8F%82%E6%95%B0-eslint-no-param-reassign"><span class="nav-number">7.13.</span> <span class="nav-text">7.12 不要改参数. eslint: no-param-reassign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-13-%E4%B8%8D%E8%A6%81%E5%AF%B9%E5%8F%82%E6%95%B0%E9%87%8D%E6%96%B0%E8%B5%8B%E5%80%BC%E3%80%82-eslint-no-param-reassign"><span class="nav-number">7.14.</span> <span class="nav-text">7.13 不要对参数重新赋值。 eslint: no-param-reassign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-14-%E7%94%A8spread%E6%93%8D%E4%BD%9C%E7%AC%A6%E2%80%A6%E5%8E%BB%E8%B0%83%E7%94%A8%E5%A4%9A%E5%8F%98%E7%9A%84%E5%87%BD%E6%95%B0%E6%9B%B4%E5%A5%BD%E3%80%82-eslint-prefer-spread"><span class="nav-number">7.15.</span> <span class="nav-text">7.14 用spread操作符…去调用多变的函数更好。 eslint: prefer-spread</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-15-%E8%B0%83%E7%94%A8%E6%88%96%E8%80%85%E4%B9%A6%E5%86%99%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%BA%94%E8%AF%A5%E5%83%8F%E8%BF%99%E4%B8%AA%E6%8C%87%E5%8D%97%E9%87%8C%E7%9A%84%E5%85%B6%E4%BB%96%E5%A4%9A%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%86%99%E6%B3%95%E4%B8%80%E6%A0%B7%EF%BC%9A-%E6%AF%8F%E8%A1%8C%E5%80%BC%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E6%AF%8F%E8%A1%8C%E9%80%97%E5%8F%B7%E7%BB%93%E5%B0%BE%E3%80%82"><span class="nav-number">7.16.</span> <span class="nav-text">7.15 调用或者书写一个包含多个参数的函数应该像这个指南里的其他多行代码写法一样： 每行值包含一个参数，每行逗号结尾。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-Functions"><span class="nav-number">8.</span> <span class="nav-text">Arrow Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-%E5%BD%93%E4%BD%A0%E4%B8%80%E5%AE%9A%E8%A6%81%E7%94%A8%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E5%9C%A8%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E9%87%8C%EF%BC%89%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%B1%E7%94%A8%E7%AE%AD%E5%A4%B4%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%90%A7%E3%80%82-eslint-prefer-arrow-callback-arrow-spacing"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 当你一定要用函数表达式（在回调函数里）的时候就用箭头表达式吧。 eslint: prefer-arrow-callback, arrow-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-%E5%A6%82%E6%9E%9C%E5%87%BD%E6%95%B0%E4%BD%93%E7%94%B1%E4%B8%80%E4%B8%AA%E6%B2%A1%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E5%8F%A5%E7%BB%84%E6%88%90%EF%BC%8C%E5%88%A0%E9%99%A4%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%92%8Creturn%E3%80%82%E5%90%A6%E5%88%99%EF%BC%8C%E7%BB%A7%E7%BB%AD%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%92%8C-return-%E8%AF%AD%E5%8F%A5%E3%80%82-eslint-arrow-parens-arrow-body-style"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 如果函数体由一个没有副作用的表达式语句组成，删除大括号和return。否则，继续用大括号和 return 语句。 eslint: arrow-parens, arrow-body-style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-%E4%B8%87%E4%B8%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B6%89%E5%8F%8A%E5%A4%9A%E8%A1%8C%EF%BC%8C%E6%8A%8A%E4%BB%96%E5%8C%85%E8%A3%B9%E5%9C%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E9%87%8C%E6%9B%B4%E5%8F%AF%E8%AF%BB%E3%80%82"><span class="nav-number">8.3.</span> <span class="nav-text">8.3 万一表达式涉及多行，把他包裹在圆括号里更可读。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%9A%84%E5%87%BD%E6%95%B0%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E5%B9%B6%E4%B8%94%E5%87%BD%E6%95%B0%E4%BD%93%E6%B2%A1%E6%9C%89%E5%A4%A7%E6%8B%AC%E5%8F%B7%EF%BC%8C%E5%B0%B1%E5%88%A0%E9%99%A4%E5%9C%86%E6%8B%AC%E5%8F%B7%E3%80%82%E5%90%A6%E5%88%99%EF%BC%8C%E5%8F%82%E6%95%B0%E6%80%BB%E6%98%AF%E6%94%BE%E5%9C%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E9%87%8C%E3%80%82-%E6%B3%A8%E6%84%8F%EF%BC%9A-%E4%B8%80%E7%9B%B4%E7%94%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E4%B9%9F%E6%98%AF%E6%B2%A1%E9%97%AE%E9%A2%98%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE-%E2%80%9Calways%E2%80%9D-option-for-eslint-eslint-arrow-parens"><span class="nav-number">8.4.</span> <span class="nav-text">8.4 如果你的函数只有一个参数并且函数体没有大括号，就删除圆括号。否则，参数总是放在圆括号里。 注意： 一直用圆括号也是没问题，只需要配置 “always” option for eslint. eslint: arrow-parens</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-%E9%81%BF%E5%85%8D%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0-%E5%92%8C%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6%EF%BC%88-%EF%BC%89%E6%B7%B7%E6%B7%86-eslint-no-confusing-arrow"><span class="nav-number">8.5.</span> <span class="nav-text">8.5 避免箭头函数(&#x3D;&gt;)和比较操作符（&lt;&#x3D;, &gt;&#x3D;）混淆. eslint: no-confusing-arrow</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-6-%E5%9C%A8%E9%9A%90%E5%BC%8Freturn%E4%B8%AD%E5%BC%BA%E5%88%B6%E7%BA%A6%E6%9D%9F%E5%87%BD%E6%95%B0%E4%BD%93%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C-%E5%B0%B1%E5%86%99%E5%9C%A8%E7%AE%AD%E5%A4%B4%E5%90%8E%E9%9D%A2%E3%80%82-eslint-implicit-arrow-linebreak"><span class="nav-number">8.6.</span> <span class="nav-text">8.6 在隐式return中强制约束函数体的位置， 就写在箭头后面。 eslint: implicit-arrow-linebreak</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Classes-Constructors"><span class="nav-number">9.</span> <span class="nav-text">Classes &amp; Constructors</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-%E5%B8%B8%E7%94%A8class%EF%BC%8C%E9%81%BF%E5%85%8D%E7%9B%B4%E6%8E%A5%E6%93%8D%E4%BD%9Cprototype"><span class="nav-number">9.1.</span> <span class="nav-text">9.1 常用class，避免直接操作prototype</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-%E7%94%A8extends%E5%AE%9E%E7%8E%B0%E7%BB%A7%E6%89%BF"><span class="nav-number">9.2.</span> <span class="nav-text">9.2 用extends实现继承</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-%E6%96%B9%E6%B3%95%E5%8F%AF%E4%BB%A5%E8%BF%94%E5%9B%9Ethis%E6%9D%A5%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E9%93%BE"><span class="nav-number">9.3.</span> <span class="nav-text">9.3 方法可以返回this来实现方法链</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-%E5%86%99%E4%B8%80%E4%B8%AA%E5%AE%9A%E5%88%B6%E7%9A%84toString-%E6%96%B9%E6%B3%95%E6%98%AF%E5%8F%AF%E4%BB%A5%E7%9A%84%EF%BC%8C%E5%8F%AA%E8%A6%81%E4%BF%9D%E8%AF%81%E5%AE%83%E6%98%AF%E5%8F%AF%E4%BB%A5%E6%AD%A3%E5%B8%B8%E5%B7%A5%E4%BD%9C%E4%B8%94%E6%B2%A1%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84"><span class="nav-number">9.4.</span> <span class="nav-text">9.4 写一个定制的toString()方法是可以的，只要保证它是可以正常工作且没有副作用的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-5-%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%85%B7%E4%BD%93%E8%AF%B4%E6%98%8E%EF%BC%8C%E7%B1%BB%E6%9C%89%E9%BB%98%E8%AE%A4%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E3%80%82%E4%B8%80%E4%B8%AA%E7%A9%BA%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%88%96%E5%8F%AA%E6%98%AF%E4%BB%A3%E8%A1%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%98%AF%E4%B8%8D%E9%9C%80%E8%A6%81%E5%86%99%E7%9A%84%E3%80%82-eslint-no-useless-constructor"><span class="nav-number">9.5.</span> <span class="nav-text">9.5 如果没有具体说明，类有默认的构造方法。一个空的构造函数或只是代表父类的构造函数是不需要写的。 eslint: no-useless-constructor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-6-%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E7%B1%BB%E6%88%90%E5%91%98%E3%80%82-eslint-no-dupe-class-members"><span class="nav-number">9.6.</span> <span class="nav-text">9.6 避免重复类成员。 eslint: no-dupe-class-members</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-7-%E9%99%A4%E9%9D%9E%E5%A4%96%E9%83%A8%E5%BA%93%E6%88%96%E6%A1%86%E6%9E%B6%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E7%89%B9%E5%AE%9A%E7%9A%84%E9%9D%9E%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%EF%BC%8C%E5%90%A6%E5%88%99%E7%B1%BB%E6%96%B9%E6%B3%95%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8this%E6%88%96%E8%A2%AB%E5%81%9A%E6%88%90%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E3%80%82-%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95%E5%BA%94%E8%AF%A5%E8%A1%A8%E6%98%8E%E5%AE%83%E6%A0%B9%E6%8D%AE%E6%8E%A5%E6%94%B6%E8%80%85%E7%9A%84%E5%B1%9E%E6%80%A7%E6%9C%89%E4%B8%8D%E5%90%8C%E7%9A%84%E8%A1%8C%E4%B8%BA%E3%80%82eslint-class-methods-use-this"><span class="nav-number">9.7.</span> <span class="nav-text">9.7 除非外部库或框架需要使用特定的非静态方法，否则类方法应该使用this或被做成静态方法。 作为一个实例方法应该表明它根据接收者的属性有不同的行为。eslint: class-methods-use-this</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Modules"><span class="nav-number">10.</span> <span class="nav-text">Modules</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-%E7%94%A8-import-export-%E6%A8%A1%E5%9D%97%E8%80%8C%E4%B8%8D%E6%98%AF%E6%97%A0%E6%A0%87%E5%87%86%E7%9A%84%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E3%80%82%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%9A%8F%E6%97%B6%E8%BD%AC%E5%88%B0%E4%BD%A0%E5%96%9C%E6%AC%A2%E7%9A%84%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F%E3%80%82"><span class="nav-number">10.1.</span> <span class="nav-text">10.1 用(import&#x2F;export) 模块而不是无标准的模块系统。你可以随时转到你喜欢的模块系统。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-2-%E4%B8%8D%E8%A6%81%E7%94%A8import%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%8C-%E5%B0%B1%E6%98%AF-%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">10.2.</span> <span class="nav-text">10.2 不要用import通配符， 就是 * 这种方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-3-%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E4%BB%8Eimport%E4%B8%AD%E7%9B%B4%E6%8E%A5export"><span class="nav-number">10.3.</span> <span class="nav-text">10.3 不要直接从import中直接export</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-4-%E4%B8%80%E4%B8%AA%E8%B7%AF%E5%BE%84%E5%8F%AA-import-%E4%B8%80%E6%AC%A1%E3%80%82-eslint-no-duplicate-imports"><span class="nav-number">10.4.</span> <span class="nav-text">10.4 一个路径只 import 一次。 eslint: no-duplicate-imports</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-5-%E4%B8%8D%E8%A6%81%E5%AF%BC%E5%87%BA%E5%8F%AF%E5%8F%98%E7%9A%84%E4%B8%9C%E8%A5%BF-eslint-import-no-mutable-exports"><span class="nav-number">10.5.</span> <span class="nav-text">10.5 不要导出可变的东西 eslint: import&#x2F;no-mutable-exports</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-6-%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E5%AF%BC%E5%87%BA%E6%A8%A1%E5%9D%97%E9%87%8C%EF%BC%8C%E7%94%A8-export-default-%E6%9B%B4%E5%A5%BD%E3%80%82-eslint-import-prefer-default-export"><span class="nav-number">10.6.</span> <span class="nav-text">10.6 在一个单一导出模块里，用 export default 更好。 eslint: import&#x2F;prefer-default-export</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-7-import-%E6%94%BE%E5%9C%A8%E5%85%B6%E4%BB%96%E6%89%80%E6%9C%89%E8%AF%AD%E5%8F%A5%E4%B9%8B%E5%89%8D%E3%80%82-eslint-import-first"><span class="nav-number">10.7.</span> <span class="nav-text">10.7 import 放在其他所有语句之前。 eslint: import&#x2F;first</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-8-%E5%A4%9A%E8%A1%8Cimport%E5%BA%94%E8%AF%A5%E7%BC%A9%E8%BF%9B%EF%BC%8C%E5%B0%B1%E5%83%8F%E5%A4%9A%E8%A1%8C%E6%95%B0%E7%BB%84%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-number">10.8.</span> <span class="nav-text">10.8 多行import应该缩进，就像多行数组和对象字面量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-9-%E5%9C%A8import%E8%AF%AD%E5%8F%A5%E9%87%8C%E4%B8%8D%E5%85%81%E8%AE%B8Webpack-loader%E8%AF%AD%E6%B3%95-eslint-import-no-webpack-loader-syntax"><span class="nav-number">10.9.</span> <span class="nav-text">10.9 在import语句里不允许Webpack loader语法 eslint: import&#x2F;no-webpack-loader-syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterators-and-Generators"><span class="nav-number">11.</span> <span class="nav-text">Iterators and Generators</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-%E4%B8%8D%E8%A6%81%E7%94%A8%E9%81%8D%E5%8E%86%E5%99%A8%E3%80%82%E7%94%A8JavaScript%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0%E4%BB%A3%E6%9B%BFfor-in%E3%80%81-for-of%E3%80%82-eslint-no-iterator-no-restricted-syntax"><span class="nav-number">11.1.</span> <span class="nav-text">11.1 不要用遍历器。用JavaScript高级函数代替for-in、 for-of。 eslint: no-iterator no-restricted-syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-2-%E7%8E%B0%E5%9C%A8%E4%B8%8D%E8%A6%81%E7%94%A8generator"><span class="nav-number">11.2.</span> <span class="nav-text">11.2 现在不要用generator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-3-%E5%A6%82%E6%9E%9C%E4%BD%A0%E4%B8%80%E5%AE%9A%E8%A6%81%E7%94%A8%EF%BC%8C%E6%88%96%E8%80%85%E4%BD%A0%E5%BF%BD%E7%95%A5%E6%88%91%E4%BB%AC%E7%9A%84%E5%BB%BA%E8%AE%AE-%E8%AF%B7%E7%A1%AE%E4%BF%9D%E5%AE%83%E4%BB%AC%E7%9A%84%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E7%A9%BA%E6%A0%BC%E6%98%AF%E5%BE%97%E5%BD%93%E7%9A%84%E3%80%82-eslint-generator-star-spacing"><span class="nav-number">11.3.</span> <span class="nav-text">11.3 如果你一定要用，或者你忽略我们的建议, 请确保它们的函数签名空格是得当的。 eslint: generator-star-spacing</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Properties"><span class="nav-number">12.</span> <span class="nav-text">Properties</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#12-1-%E8%AE%BF%E9%97%AE%E5%B1%9E%E6%80%A7%E6%97%B6%E4%BD%BF%E7%94%A8%E7%82%B9%E7%AC%A6%E5%8F%B7-eslint-dot-notation"><span class="nav-number">12.1.</span> <span class="nav-text">12.1 访问属性时使用点符号. eslint: dot-notation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-2-%E5%BD%93%E8%8E%B7%E5%8F%96%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E5%8F%98%E9%87%8F%E6%97%B6%E7%94%A8%E6%96%B9%E6%8B%AC%E5%8F%B7-%E5%8F%96%E3%80%82"><span class="nav-number">12.2.</span> <span class="nav-text">12.2 当获取的属性是变量时用方括号[]取。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-3-%E5%81%9A%E5%B9%82%E8%BF%90%E7%AE%97%E6%97%B6%E7%94%A8%E5%B9%82%E6%93%8D%E4%BD%9C%E7%AC%A6-%E3%80%82-eslint-no-restricted-properties"><span class="nav-number">12.3.</span> <span class="nav-text">12.3 做幂运算时用幂操作符 ** 。 eslint: no-restricted-properties.</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variables"><span class="nav-number">13.</span> <span class="nav-text">Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-%E7%94%A8const%E6%88%96let%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E3%80%82%E4%B8%8D%E8%BF%99%E6%A0%B7%E5%81%9A%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%82-%E6%88%91%E4%BB%AC%E6%83%B3%E8%A6%81%E9%81%BF%E5%85%8D%E6%B1%A1%E6%9F%93%E5%85%A8%E5%B1%80%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E3%80%82%E9%A6%96%E9%95%BF%E8%BF%99%E6%A0%B7%E8%AD%A6%E5%91%8A%E6%88%91%E4%BB%AC%E3%80%82-eslint-no-undef-prefer-const"><span class="nav-number">13.1.</span> <span class="nav-text">13.1 用const或let声明变量。不这样做会导致全局变量。 我们想要避免污染全局命名空间。首长这样警告我们。 eslint: no-undef prefer-const</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-2-%E6%AF%8F%E4%B8%AA%E5%8F%98%E9%87%8F%E9%83%BD%E7%94%A8%E4%B8%80%E4%B8%AA-const-%E6%88%96-let-%E3%80%82-eslint-one-var"><span class="nav-number">13.2.</span> <span class="nav-text">13.2 每个变量都用一个 const 或 let 。 eslint: one-var</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-3-const%E6%94%BE%E4%B8%80%E8%B5%B7%EF%BC%8Clet%E6%94%BE%E4%B8%80%E8%B5%B7"><span class="nav-number">13.3.</span> <span class="nav-text">13.3 const放一起，let放一起</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-4-%E5%9C%A8%E4%BD%A0%E9%9C%80%E8%A6%81%E7%9A%84%E5%9C%B0%E6%96%B9%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%EF%BC%8C%E4%BD%86%E6%98%AF%E8%A6%81%E6%94%BE%E5%9C%A8%E5%90%88%E7%90%86%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-number">13.4.</span> <span class="nav-text">13.4 在你需要的地方声明变量，但是要放在合理的位置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-5-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E9%93%BE%E6%8E%A5%E5%8F%98%E9%87%8F%E5%88%86%E9%85%8D%E3%80%82-eslint-no-multi-assign"><span class="nav-number">13.5.</span> <span class="nav-text">13.5 不要使用链接变量分配。 eslint: no-multi-assign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-6-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%80%E5%85%83%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%8C-%EF%BC%89-eslint-no-plusplus"><span class="nav-number">13.6.</span> <span class="nav-text">13.6 不要使用一元自增自减运算符（++， --）. eslint: no-plusplus</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-7-%E5%9C%A8%E8%B5%8B%E5%80%BC%E7%9A%84%E6%97%B6%E5%80%99%E9%81%BF%E5%85%8D%E5%9C%A8-%E5%89%8D-%E5%90%8E%E6%8D%A2%E8%A1%8C%E3%80%82-%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%9A%84%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5%E8%B6%85%E5%87%BA-max-len%EF%BC%8C-%E9%82%A3%E5%B0%B1%E7%94%A8%E5%B0%8F%E6%8B%AC%E5%8F%B7%E6%8A%8A%E8%BF%99%E4%B8%AA%E5%80%BC%E5%8C%85%E8%B5%B7%E6%9D%A5%E5%86%8D%E6%8D%A2%E8%A1%8C%E3%80%82-eslint-operator-linebreak"><span class="nav-number">13.7.</span> <span class="nav-text">13.7 在赋值的时候避免在 &#x3D; 前&#x2F;后换行。 如果你的赋值语句超出 max-len， 那就用小括号把这个值包起来再换行。 eslint: operator-linebreak.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-8-%E4%B8%8D%E5%85%81%E8%AE%B8%E6%9C%89%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8F%98%E9%87%8F%E3%80%82-eslint-no-unused-vars"><span class="nav-number">13.8.</span> <span class="nav-text">13.8 不允许有未使用的变量。 eslint: no-unused-vars</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hoisting"><span class="nav-number">14.</span> <span class="nav-text">Hoisting</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#14-1-var%E5%A3%B0%E6%98%8E%E4%BC%9A%E8%A2%AB%E6%8F%90%E5%89%8D%E5%88%B0%E4%BB%96%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%9C%80%E5%89%8D%E9%9D%A2%EF%BC%8C%E5%AE%83%E5%88%86%E9%85%8D%E7%9A%84%E5%80%BC%E8%BF%98%E6%B2%A1%E6%9C%89%E6%8F%90%E5%89%8D%E3%80%82const-%E5%92%8C-let%E8%A2%AB%E8%B5%8B%E4%BA%88%E4%BA%86%E6%96%B0%E7%9A%84%E8%B0%83%E7%94%A8%E6%A6%82%E5%BF%B5%E6%97%B6%E6%95%88%E5%8C%BA-%E2%80%94%E2%80%94-Temporal-Dead-Zones-TDZ-%E3%80%82-%E9%87%8D%E8%A6%81%E7%9A%84%E6%98%AF%E8%A6%81%E7%9F%A5%E9%81%93%E4%B8%BA%E4%BB%80%E4%B9%88-typeof%E4%B8%8D%E5%86%8D%E5%AE%89%E5%85%A8"><span class="nav-number">14.1.</span> <span class="nav-text">14.1 var声明会被提前到他的作用域的最前面，它分配的值还没有提前。const 和 let被赋予了新的调用概念时效区 —— Temporal Dead Zones (TDZ)。 重要的是要知道为什么 typeof不再安全.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-2-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C-var-%E6%83%85%E5%86%B5%E7%9B%B8%E5%90%8C"><span class="nav-number">14.2.</span> <span class="nav-text">14.2 匿名函数表达式和 var 情况相同</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-3-%E5%B7%B2%E5%91%BD%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8D%87%E4%BB%96%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%87%BD%E6%95%B0%E5%90%8D%E6%88%96%E5%87%BD%E6%95%B0%E4%BD%93"><span class="nav-number">14.3.</span> <span class="nav-text">14.3 已命名函数表达式提升他的变量名，不是函数名或函数体</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-4-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%88%99%E6%8F%90%E5%8D%87%E4%BA%86%E5%87%BD%E6%95%B0%E5%90%8D%E5%92%8C%E5%87%BD%E6%95%B0%E4%BD%93"><span class="nav-number">14.4.</span> <span class="nav-text">14.4 函数声明则提升了函数名和函数体</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparison-Operators-Equality"><span class="nav-number">15.</span> <span class="nav-text">Comparison Operators &amp; Equality</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#15-1-%E7%94%A8-%E5%92%8C-%E8%80%8C%E4%B8%8D%E6%98%AF-%E5%92%8C-eslint-eqeqeq"><span class="nav-number">15.1.</span> <span class="nav-text">15.1 用 &#x3D;&#x3D;&#x3D; 和 !&#x3D;&#x3D; 而不是 &#x3D;&#x3D; 和 !&#x3D;. eslint: eqeqeq</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-2-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E5%A6%82%E2%80%99if%E2%80%99%E8%AF%AD%E5%8F%A5%E4%BD%BF%E7%94%A8%E5%BC%BA%E5%88%B6-ToBoolean%E2%80%99%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95%E6%9D%A5%E8%AF%84%E4%BC%B0%E5%AE%83%E4%BB%AC%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%A7%8B%E7%BB%88%E9%81%B5%E5%BE%AA%E4%BB%A5%E4%B8%8B%E7%AE%80%E5%8D%95%E8%A7%84%E5%88%99%EF%BC%9A"><span class="nav-number">15.2.</span> <span class="nav-text">15.2 条件语句如’if’语句使用强制&#96;ToBoolean’抽象方法来评估它们的表达式，并且始终遵循以下简单规则：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-3-%E5%B8%83%E5%B0%94%E5%80%BC%E7%94%A8%E7%BC%A9%E5%86%99%EF%BC%8C%E8%80%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E5%AD%97%E8%A6%81%E6%98%8E%E7%A1%AE%E6%AF%94%E8%BE%83%E5%AF%B9%E8%B1%A1"><span class="nav-number">15.3.</span> <span class="nav-text">15.3 布尔值用缩写，而字符串和数字要明确比较对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-4-%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF%E8%AF%B7%E8%A7%81Angus-Croll%E7%9A%84%E7%9C%9F%E7%90%86%E3%80%81%E5%B9%B3%E7%AD%89%E5%92%8CJavaScript-%E2%80%94%E2%80%94-Truth-Equality-and-JavaScript"><span class="nav-number">15.4.</span> <span class="nav-text">15.4 更多信息请见Angus Croll的真理、平等和JavaScript —— Truth Equality and JavaScript</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-5-%E5%9C%A8case%E5%92%8Cdefault%E5%88%86%E5%8F%A5%E9%87%8C%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%88%9B%E5%BB%BA%E4%B8%80%E5%9D%97%E5%8C%85%E5%90%AB%E8%AF%AD%E6%B3%95%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8C%BA%E5%9F%9F-e-g-let-const-function-and-class-eslint-no-case-declarations"><span class="nav-number">15.5.</span> <span class="nav-text">15.5 在case和default分句里用大括号创建一块包含语法声明的区域(e.g. let, const, function, and class). eslint: no-case-declarations.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-6-%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%B5%8C%E5%A5%97%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E5%8D%95%E8%A1%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%82eslint-no-nested-ternary"><span class="nav-number">15.6.</span> <span class="nav-text">15.6 三元表达式不应该嵌套，通常是单行表达式。eslint: no-nested-ternary.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-7-%E9%81%BF%E5%85%8D%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%82-eslint-no-unneeded-ternary"><span class="nav-number">15.7.</span> <span class="nav-text">15.7 避免不需要的三元表达式。 eslint: no-unneeded-ternary.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-8-%E7%94%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E6%9D%A5%E6%B7%B7%E5%90%88%E8%BF%99%E4%BA%9B%E6%93%8D%E4%BD%9C%E7%AC%A6%E3%80%82-%E5%8F%AA%E6%9C%89%E5%BD%93%E6%A0%87%E5%87%86%E7%9A%84%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%8C-%E5%B9%B6%E4%B8%94%E5%AE%83%E4%BB%AC%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E6%98%BE%E8%80%8C%E6%98%93%E8%A7%81%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%8D%E7%94%A8%E5%9C%86%E6%8B%AC%E5%8F%B7%E6%8B%AC%E8%B5%B7%E6%9D%A5%E3%80%82-eslint-no-mixed-operators"><span class="nav-number">15.8.</span> <span class="nav-text">15.8 用圆括号来混合这些操作符。 只有当标准的算术运算符(+, -, *, &amp; &#x2F;)， 并且它们的优先级显而易见时，可以不用圆括号括起来。 eslint: no-mixed-operators</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Blocks"><span class="nav-number">16.</span> <span class="nav-text">Blocks</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#16-1-%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%8C%85%E8%A3%B9%E5%A4%9A%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%9D%97%E3%80%82-eslint-nonblock-statement-body-position"><span class="nav-number">16.1.</span> <span class="nav-text">16.1 用大括号包裹多行代码块。 eslint: nonblock-statement-body-position</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-2-if%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84else%E5%92%8Cif%E7%9A%84%E5%85%B3%E9%97%AD%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%9C%A8%E4%B8%80%E8%A1%8C%E3%80%82-eslint-brace-style"><span class="nav-number">16.2.</span> <span class="nav-text">16.2 if表达式的else和if的关闭大括号在一行。 eslint: brace-style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-3-%E5%A6%82%E6%9E%9C-if-%E8%AF%AD%E5%8F%A5%E4%B8%AD%E6%80%BB%E6%98%AF%E9%9C%80%E8%A6%81%E7%94%A8-return-%E8%BF%94%E5%9B%9E%EF%BC%8C-%E9%82%A3%E5%90%8E%E7%BB%AD%E7%9A%84-else-%E5%B0%B1%E4%B8%8D%E9%9C%80%E8%A6%81%E5%86%99%E4%BA%86%E3%80%82-if-%E5%9D%97%E4%B8%AD%E5%8C%85%E5%90%AB-return%EF%BC%8C-%E5%AE%83%E5%90%8E%E9%9D%A2%E7%9A%84-else-if-%E5%9D%97%E4%B8%AD%E4%B9%9F%E5%8C%85%E5%90%AB%E4%BA%86-return%EF%BC%8C-%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%8A%8A-return-%E5%88%86%E5%88%B0%E5%A4%9A%E4%B8%AA-if-%E8%AF%AD%E5%8F%A5%E5%9D%97%E4%B8%AD%E3%80%82-eslint-no-else-return"><span class="nav-number">16.3.</span> <span class="nav-text">16.3 如果 if 语句中总是需要用 return 返回， 那后续的 else 就不需要写了。 if 块中包含 return， 它后面的 else if 块中也包含了 return， 这个时候就可以把 return 分到多个 if 语句块中。 eslint: no-else-return</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Control-Statements"><span class="nav-number">17.</span> <span class="nav-text">Control Statements</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#17-1-%E5%BD%93%E4%BD%A0%E7%9A%84%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5-if-while-%E7%AD%89-%E5%A4%AA%E9%95%BF%E6%88%96%E8%80%85%E8%B6%85%E8%BF%87%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B6%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C-%E6%8A%8A%E6%AF%8F%E4%B8%80%E4%B8%AA-%E7%BB%84-%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6%E6%94%BE%E5%9C%A8%E5%8D%95%E7%8B%AC%E4%B8%80%E8%A1%8C%E9%87%8C%E3%80%82-%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6%E6%94%BE%E5%9C%A8%E8%A1%8C%E9%A6%96%E3%80%82"><span class="nav-number">17.1.</span> <span class="nav-text">17.1 当你的控制语句(if, while 等)太长或者超过最大长度限制的时候， 把每一个(组)判断条件放在单独一行里。 逻辑操作符放在行首。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-2-%E4%B8%8D%E8%A6%81%E7%94%A8%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C%E7%AC%A6%E4%BB%A3%E6%9B%BF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E3%80%82"><span class="nav-number">17.2.</span> <span class="nav-text">17.2 不要用选择操作符代替控制语句。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comments"><span class="nav-number">18.</span> <span class="nav-text">Comments</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#18-1-%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A%E7%94%A8"><span class="nav-number">18.1.</span> <span class="nav-text">18.1 多行注释用 &#x2F;** ... *&#x2F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-2-%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A%E7%94%A8-%EF%BC%8C%E5%B0%86%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A%E6%94%BE%E5%9C%A8%E8%A2%AB%E6%B3%A8%E9%87%8A%E5%8C%BA%E5%9F%9F%E4%B8%8A%E9%9D%A2%E3%80%82%E5%A6%82%E6%9E%9C%E6%B3%A8%E9%87%8A%E4%B8%8D%E6%98%AF%E5%9C%A8%E7%AC%AC%E4%B8%80%E8%A1%8C%EF%BC%8C%E9%82%A3%E4%B9%88%E6%B3%A8%E9%87%8A%E5%89%8D%E9%9D%A2%E5%B0%B1%E7%A9%BA%E4%B8%80%E8%A1%8C"><span class="nav-number">18.2.</span> <span class="nav-text">18.2 单行注释用&#x2F;&#x2F;，将单行注释放在被注释区域上面。如果注释不是在第一行，那么注释前面就空一行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-3-%E6%89%80%E6%9C%89%E6%B3%A8%E9%87%8A%E5%BC%80%E5%A4%B4%E7%A9%BA%E4%B8%80%E4%B8%AA%EF%BC%8C%E6%96%B9%E4%BE%BF%E9%98%85%E8%AF%BB%E3%80%82-eslint-spaced-comment"><span class="nav-number">18.3.</span> <span class="nav-text">18.3 所有注释开头空一个，方便阅读。 eslint: spaced-comment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-4-%E5%9C%A8%E4%BD%A0%E7%9A%84%E6%B3%A8%E9%87%8A%E5%89%8D%E4%BD%BF%E7%94%A8FIXME%E2%80%99%E6%88%96TODO%E2%80%99%E5%89%8D%E7%BC%80%EF%BC%8C-%E8%BF%99%E6%9C%89%E5%8A%A9%E4%BA%8E%E5%85%B6%E4%BB%96%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E5%BF%AB%E9%80%9F%E7%90%86%E8%A7%A3%E4%BD%A0%E6%8C%87%E5%87%BA%E7%9A%84%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E8%AE%BF%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%8C-%E6%88%96%E8%80%85%E6%82%A8%E5%BB%BA%E8%AE%AE%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E3%80%82-%E8%BF%99%E4%BA%9B%E4%B8%8D%E5%90%8C%E4%BA%8E%E5%B8%B8%E8%A7%84%E6%B3%A8%E9%87%8A%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E4%BB%AC%E6%98%AF%E5%8F%AF%E6%93%8D%E4%BD%9C%E7%9A%84%E3%80%82-%E5%8A%A8%E4%BD%9C%E6%98%AFFIXME%EF%BC%9A-%E9%9C%80%E8%A6%81%E8%AE%A1%E7%AE%97%E5%87%BA%E6%9D%A5%E6%88%96TODO%EF%BC%9A-%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E3%80%82"><span class="nav-number">18.4.</span> <span class="nav-text">18.4 在你的注释前使用FIXME’或TODO’前缀， 这有助于其他开发人员快速理解你指出的需要重新访问的问题， 或者您建议需要实现的问题的解决方案。 这些不同于常规注释，因为它们是可操作的。 动作是FIXME： - 需要计算出来或TODO： - 需要实现。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-5-%E7%94%A8-FIXME-%E7%BB%99%E9%97%AE%E9%A2%98%E5%81%9A%E6%B3%A8%E9%87%8A"><span class="nav-number">18.5.</span> <span class="nav-text">18.5 用&#x2F;&#x2F; FIXME:给问题做注释</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-6-%E7%94%A8-TODO-%E5%8E%BB%E6%B3%A8%E9%87%8A%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">18.6.</span> <span class="nav-text">18.6 用&#x2F;&#x2F; TODO:去注释问题的解决方案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Whitespace"><span class="nav-number">19.</span> <span class="nav-text">Whitespace</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#19-1-tab%E7%94%A8%E4%B8%A4%E4%B8%AA%E7%A9%BA%E6%A0%BC-eslint-indent"><span class="nav-number">19.1.</span> <span class="nav-text">19.1 tab用两个空格. eslint: indent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-2-%E5%9C%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%89%8D%E7%A9%BA%E4%B8%80%E6%A0%BC%E3%80%82-eslint-space-before-blocks"><span class="nav-number">19.2.</span> <span class="nav-text">19.2 在大括号前空一格。 eslint: space-before-blocks</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-3-%E5%9C%A8%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5-if-while-%E7%AD%89-%E7%9A%84%E5%9C%86%E6%8B%AC%E5%8F%B7%E5%89%8D%E7%A9%BA%E4%B8%80%E6%A0%BC%E3%80%82%E5%9C%A8%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%92%8C%E5%AE%9A%E4%B9%89%E6%97%B6%EF%BC%8C%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E5%92%8C%E5%87%BD%E6%95%B0%E5%90%8D%E4%B9%8B%E9%97%B4%E4%B8%8D%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-keyword-spacing"><span class="nav-number">19.3.</span> <span class="nav-text">19.3 在控制语句(if, while 等)的圆括号前空一格。在函数调用和定义时，参数列表和函数名之间不空格。 eslint: keyword-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-4-%E7%94%A8%E7%A9%BA%E6%A0%BC%E6%9D%A5%E9%9A%94%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%82-eslint-space-infix-ops"><span class="nav-number">19.4.</span> <span class="nav-text">19.4 用空格来隔开运算符。 eslint: space-infix-ops</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-5-%E6%96%87%E4%BB%B6%E7%BB%93%E5%B0%BE%E7%A9%BA%E4%B8%80%E8%A1%8C-eslint-eol-last"><span class="nav-number">19.5.</span> <span class="nav-text">19.5 文件结尾空一行. eslint: eol-last</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-6-%E5%BD%93%E5%87%BA%E7%8E%B0%E9%95%BF%E7%9A%84%E6%96%B9%E6%B3%95%E9%93%BE%EF%BC%88-2%E4%B8%AA%EF%BC%89%E6%97%B6%E7%94%A8%E7%BC%A9%E8%BF%9B%E3%80%82%E7%94%A8%E7%82%B9%E5%BC%80%E5%A4%B4%E5%BC%BA%E8%B0%83%E8%AF%A5%E8%A1%8C%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E8%AF%AD%E5%8F%A5%E3%80%82eslint-newline-per-chained-call-no-whitespace-before-property"><span class="nav-number">19.6.</span> <span class="nav-text">19.6 当出现长的方法链（&gt;2个）时用缩进。用点开头强调该行是一个方法调用，而不是一个新的语句。eslint: newline-per-chained-call no-whitespace-before-property</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-7-%E5%9C%A8%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%A0%81%E5%9D%97%E5%90%8E%E4%B8%8B%E4%B8%80%E6%9D%A1%E8%AF%AD%E5%8F%A5%E5%89%8D%E7%A9%BA%E4%B8%80%E8%A1%8C%E3%80%82"><span class="nav-number">19.7.</span> <span class="nav-text">19.7 在一个代码块后下一条语句前空一行。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-8-%E4%B8%8D%E8%A6%81%E7%94%A8%E7%A9%BA%E7%99%BD%E8%A1%8C%E5%A1%AB%E5%85%85%E5%9D%97%E3%80%82-eslint-padded-blocks"><span class="nav-number">19.8.</span> <span class="nav-text">19.8 不要用空白行填充块。 eslint: padded-blocks</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-9%E4%B8%8D%E8%A6%81%E5%9C%A8%E4%BB%A3%E7%A0%81%E4%B9%8B%E9%97%B4%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E7%A9%BA%E7%99%BD%E8%A1%8C%E5%A1%AB%E5%85%85%E3%80%82-eslint-no-multiple-empty-lines"><span class="nav-number">19.9.</span> <span class="nav-text">19.9不要在代码之间使用多个空白行填充。 eslint: no-multiple-empty-lines</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-10-%E5%9C%86%E6%8B%AC%E5%8F%B7%E9%87%8C%E4%B8%8D%E8%A6%81%E5%8A%A0%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-space-in-parens"><span class="nav-number">19.10.</span> <span class="nav-text">19.10 圆括号里不要加空格。 eslint: space-in-parens</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-11-%E6%96%B9%E6%8B%AC%E5%8F%B7%E9%87%8C%E4%B8%8D%E8%A6%81%E5%8A%A0%E7%A9%BA%E6%A0%BC%E3%80%82%E7%9C%8B%E7%A4%BA%E4%BE%8B%E3%80%82-eslint-array-bracket-spacing"><span class="nav-number">19.11.</span> <span class="nav-text">19.11 方括号里不要加空格。看示例。 eslint: array-bracket-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-12-%E8%8A%B1%E6%8B%AC%E5%8F%B7%E9%87%8C%E5%8A%A0%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-object-curly-spacing"><span class="nav-number">19.12.</span> <span class="nav-text">19.12 花括号里加空格。 eslint: object-curly-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-13-%E9%81%BF%E5%85%8D%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E8%B6%85%E8%BF%87100%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%88%E5%8C%85%E5%90%AB%E7%A9%BA%E6%A0%BC%EF%BC%89%E3%80%82"><span class="nav-number">19.13.</span> <span class="nav-text">19.13 避免一行代码超过100个字符（包含空格）。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-14-%E4%BD%9C%E4%B8%BA%E8%AF%AD%E5%8F%A5%E7%9A%84%E8%8A%B1%E6%8B%AC%E5%8F%B7%E5%86%85%E4%B9%9F%E8%A6%81%E5%8A%A0%E7%A9%BA%E6%A0%BC-%E2%80%94%E2%80%94-%E5%90%8E%E5%92%8C-%E5%89%8D%E9%83%BD%E9%9C%80%E8%A6%81%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-block-spacing"><span class="nav-number">19.14.</span> <span class="nav-text">19.14 作为语句的花括号内也要加空格 —— { 后和 } 前都需要空格。 eslint: block-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-15-%E5%89%8D%E4%B8%8D%E8%A6%81%E7%A9%BA%E6%A0%BC%EF%BC%8C-%E5%90%8E%E9%9C%80%E8%A6%81%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-comma-spacing"><span class="nav-number">19.15.</span> <span class="nav-text">19.15 , 前不要空格， , 后需要空格。 eslint: comma-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-16-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%86%85%E8%A6%81%E7%A9%BA%E6%A0%BC%E3%80%82%E5%8F%82%E8%80%83%E4%B8%8A%E8%BF%B0%E8%8A%B1%E6%8B%AC%E5%8F%B7%E5%92%8C%E4%B8%AD%E6%8B%AC%E5%8F%B7%E7%9A%84%E8%A7%84%E5%88%99%E3%80%82-eslint-computed-property-spacing"><span class="nav-number">19.16.</span> <span class="nav-text">19.16 计算属性内要空格。参考上述花括号和中括号的规则。 eslint: computed-property-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-17-%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%8C%E5%87%BD%E6%95%B0%E5%90%8D%E5%92%8C%E5%B0%8F%E6%8B%AC%E5%8F%B7%E4%B9%8B%E9%97%B4%E4%B8%8D%E8%A6%81%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-func-call-spacing"><span class="nav-number">19.17.</span> <span class="nav-text">19.17 调用函数时，函数名和小括号之间不要空格。 eslint: func-call-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-18-%E5%9C%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AD%97%E9%9D%A2%E9%87%8F%E5%B1%9E%E6%80%A7%E4%B8%AD%EF%BC%8C-key-value-%E4%B9%8B%E9%97%B4%E8%A6%81%E6%9C%89%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-key-spacing"><span class="nav-number">19.18.</span> <span class="nav-text">19.18 在对象的字面量属性中， key value 之间要有空格。 eslint: key-spacing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-19-%E8%A1%8C%E6%9C%AB%E4%B8%8D%E8%A6%81%E7%A9%BA%E6%A0%BC%E3%80%82-eslint-no-trailing-spaces"><span class="nav-number">19.19.</span> <span class="nav-text">19.19 行末不要空格。 eslint: no-trailing-spaces</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-20-%E9%81%BF%E5%85%8D%E5%87%BA%E7%8E%B0%E5%A4%9A%E4%B8%AA%E7%A9%BA%E8%A1%8C%E3%80%82-%E5%9C%A8%E6%96%87%E4%BB%B6%E6%9C%AB%E5%B0%BE%E5%8F%AA%E5%85%81%E8%AE%B8%E7%A9%BA%E4%B8%80%E8%A1%8C%E3%80%82-eslint-no-multiple-empty-lines"><span class="nav-number">19.20.</span> <span class="nav-text">19.20 避免出现多个空行。 在文件末尾只允许空一行。 eslint: no-multiple-empty-lines</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commas"><span class="nav-number">20.</span> <span class="nav-text">Commas</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#20-1-%E4%B8%8D%E8%A6%81%E5%89%8D%E7%BD%AE%E9%80%97%E5%8F%B7%E3%80%82-eslint-comma-style"><span class="nav-number">20.1.</span> <span class="nav-text">20.1 不要前置逗号。 eslint: comma-style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-2-%E9%A2%9D%E5%A4%96%E7%BB%93%E5%B0%BE%E9%80%97%E5%8F%B7-%E8%A6%81-eslint-comma-dangle"><span class="nav-number">20.2.</span> <span class="nav-text">20.2 额外结尾逗号: 要 eslint: comma-dangle</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Semicolons"><span class="nav-number">21.</span> <span class="nav-text">Semicolons</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#21-1-Yup-eslint-semi"><span class="nav-number">21.1.</span> <span class="nav-text">21.1 Yup. eslint: semi</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Casting-Coercion"><span class="nav-number">22.</span> <span class="nav-text">Type Casting &amp; Coercion</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#22-1-%E5%9C%A8%E8%AF%AD%E5%8F%A5%E5%BC%80%E5%A7%8B%E6%89%A7%E8%A1%8C%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E3%80%82"><span class="nav-number">22.1.</span> <span class="nav-text">22.1 在语句开始执行强制类型转换。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-2-Strings-eslint-no-new-wrappers"><span class="nav-number">22.2.</span> <span class="nav-text">22.2 Strings: eslint: no-new-wrappers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-3-Numbers-%E7%94%A8-Number-%E5%81%9A%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%8CparseInt%E8%BD%AC%E6%8D%A2string%E5%B8%B8%E9%9C%80%E8%A6%81%E5%B8%A6%E4%B8%8A%E5%9F%BA%E6%95%B0%E3%80%82-eslint-radix"><span class="nav-number">22.3.</span> <span class="nav-text">22.3 Numbers: 用 Number 做类型转换，parseInt转换string常需要带上基数。 eslint: radix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-4-%E8%AF%B7%E5%9C%A8%E6%B3%A8%E9%87%8A%E4%B8%AD%E8%A7%A3%E9%87%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E5%92%8C%E4%BD%A0%E5%9C%A8%E5%81%9A%E4%BB%80%E4%B9%88%E3%80%82%E6%97%A0%E8%AE%BA%E4%BD%A0%E5%81%9A%E4%BB%80%E4%B9%88%E7%8B%82%E9%87%8E%E7%9A%84%E4%BA%8B%EF%BC%8C%E6%AF%94%E5%A6%82%E7%94%B1%E4%BA%8E-parseInt-%E6%98%AF%E4%BD%A0%E7%9A%84%E6%80%A7%E8%83%BD%E7%93%B6%E9%A2%88%E5%AF%BC%E8%87%B4%E4%BD%A0%E4%B8%80%E5%AE%9A%E8%A6%81%E7%94%A8%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E3%80%82-%E8%AF%B7%E8%AF%B4%E6%98%8E%E8%BF%99%E4%B8%AA%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%80%A7%E8%83%BD%E5%8E%9F%E5%9B%A0"><span class="nav-number">22.4.</span> <span class="nav-text">22.4 请在注释中解释为什么要用移位运算和你在做什么。无论你做什么狂野的事，比如由于 parseInt 是你的性能瓶颈导致你一定要用移位运算。 请说明这个是因为性能原因,</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-5-%E6%B3%A8%E6%84%8F-%E7%94%A8%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E8%A6%81%E5%B0%8F%E5%BF%83-%E6%95%B0%E5%AD%97%E4%BD%BF%E7%94%A864-%E4%BD%8D%E8%A1%A8%E7%A4%BA%E7%9A%84%EF%BC%8C%E4%BD%86%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E5%B8%B8%E5%B8%B8%E8%BF%94%E5%9B%9E%E7%9A%84%E6%98%AF32%E4%B8%BA%E6%95%B4%E5%BD%A2source-%E3%80%82%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E5%AF%B9%E5%A4%A7%E4%BA%8E32%E4%BD%8D%E7%9A%84%E6%95%B4%E6%95%B0%E4%BC%9A%E5%AF%BC%E8%87%B4%E6%84%8F%E5%A4%96%E8%A1%8C%E4%B8%BA%E3%80%82Discussion-%E6%9C%80%E5%A4%A7%E7%9A%8432%E4%BD%8D%E6%95%B4%E6%95%B0%E6%98%AF-2-147-483-647"><span class="nav-number">22.5.</span> <span class="nav-text">22.5 注意: 用移位运算要小心. 数字使用64-位表示的，但移位运算常常返回的是32为整形source)。移位运算对大于32位的整数会导致意外行为。Discussion. 最大的32位整数是 2,147,483,647:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-6-%E5%B8%83%E5%B0%94"><span class="nav-number">22.6.</span> <span class="nav-text">22.6 布尔:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Naming-Conventions"><span class="nav-number">23.</span> <span class="nav-text">Naming Conventions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#23-1-%E9%81%BF%E5%85%8D%E7%94%A8%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AF%8D%E5%91%BD%E5%90%8D%EF%BC%8C%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%91%BD%E5%90%8D%E5%8F%AF%E6%8F%8F%E8%BF%B0%E3%80%82-eslint-id-length"><span class="nav-number">23.1.</span> <span class="nav-text">23.1 避免用一个字母命名，让你的命名可描述。 eslint: id-length</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-2-%E7%94%A8%E5%B0%8F%E9%A9%BC%E5%B3%B0%E5%BC%8F%E5%91%BD%E5%90%8D%E4%BD%A0%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E5%AE%9E%E4%BE%8B%E3%80%82-eslint-camelcase"><span class="nav-number">23.2.</span> <span class="nav-text">23.2 用小驼峰式命名你的对象、函数、实例。 eslint: camelcase</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-3-%E7%94%A8%E5%A4%A7%E9%A9%BC%E5%B3%B0%E5%BC%8F%E5%91%BD%E5%90%8D%E7%B1%BB%E3%80%82-eslint-new-cap"><span class="nav-number">23.3.</span> <span class="nav-text">23.3 用大驼峰式命名类。 eslint: new-cap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-4-%E4%B8%8D%E8%A6%81%E7%94%A8%E5%89%8D%E7%BD%AE%E6%88%96%E5%90%8E%E7%BD%AE%E4%B8%8B%E5%88%92%E7%BA%BF%E3%80%82-eslint-no-underscore-dangle"><span class="nav-number">23.4.</span> <span class="nav-text">23.4 不要用前置或后置下划线。 eslint: no-underscore-dangle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-5-%E4%B8%8D%E8%A6%81%E4%BF%9D%E5%AD%98%E5%BC%95%E7%94%A8this%EF%BC%8C-%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E6%88%96%E5%87%BD%E6%95%B0%E7%BB%91%E5%AE%9A%E2%80%94%E2%80%94Function-bind"><span class="nav-number">23.5.</span> <span class="nav-text">23.5 不要保存引用this， 用箭头函数或函数绑定——Function#bind.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-6-export-default%E5%AF%BC%E5%87%BA%E6%A8%A1%E5%9D%97A%EF%BC%8C%E5%88%99%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E5%90%8D%E4%B9%9F%E5%8F%ABA-%EF%BC%8C-import-%E6%97%B6%E5%80%99%E7%9A%84%E5%8F%82%E6%95%B0%E4%B9%9F%E5%8F%ABA%E3%80%82-%E5%A4%A7%E5%B0%8F%E5%86%99%E5%AE%8C%E5%85%A8%E4%B8%80%E8%87%B4%E3%80%82"><span class="nav-number">23.6.</span> <span class="nav-text">23.6 export default导出模块A，则这个文件名也叫A.*， import 时候的参数也叫A。 大小写完全一致。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-7-%E5%BD%93%E4%BD%A0export-default%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%8C%E5%87%BD%E6%95%B0%E5%90%8D%E7%94%A8%E5%B0%8F%E9%A9%BC%E5%B3%B0%EF%BC%8C%E6%96%87%E4%BB%B6%E5%90%8D%E9%9C%80%E8%A6%81%E5%92%8C%E5%87%BD%E6%95%B0%E5%90%8D%E4%B8%80%E8%87%B4%E3%80%82"><span class="nav-number">23.7.</span> <span class="nav-text">23.7 当你export-default一个函数时，函数名用小驼峰，文件名需要和函数名一致。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-8-%E5%BD%93%E4%BD%A0export%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93-%E7%B1%BB-%E5%8D%95%E4%BE%8B-%E5%87%BD%E6%95%B0%E5%BA%93-%E5%AF%B9%E8%B1%A1-%E6%97%B6%E7%94%A8%E5%A4%A7%E9%A9%BC%E5%B3%B0%E3%80%82"><span class="nav-number">23.8.</span> <span class="nav-text">23.8 当你export一个结构体&#x2F;类&#x2F;单例&#x2F;函数库&#x2F;对象 时用大驼峰。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-9-%E7%AE%80%E7%A7%B0%E5%92%8C%E7%BC%A9%E5%86%99%E5%BA%94%E8%AF%A5%E5%85%A8%E9%83%A8%E5%A4%A7%E5%86%99%E6%88%96%E5%85%A8%E9%83%A8%E5%B0%8F%E5%86%99%E3%80%82"><span class="nav-number">23.9.</span> <span class="nav-text">23.9 简称和缩写应该全部大写或全部小写。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-10-%E4%BD%A0%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%85%A8%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%8C%E4%BB%96%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E4%B8%89%E4%B8%AA%E6%9D%A1%E4%BB%B6%E3%80%82"><span class="nav-number">23.10.</span> <span class="nav-text">23.10 你可以用全大写字母设置静态变量，他需要满足三个条件。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accessors"><span class="nav-number">24.</span> <span class="nav-text">Accessors</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#24-1-%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AE%BF%E9%97%AE%E5%99%A8%E5%87%BD%E6%95%B0%E3%80%82"><span class="nav-number">24.1.</span> <span class="nav-text">24.1 不需要使用属性的访问器函数。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-2-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8JavaScript%E7%9A%84getters-setters%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%BB%96%E4%BB%AC%E4%BC%9A%E4%BA%A7%E7%94%9F%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%8C%E5%B9%B6%E4%B8%94%E9%9A%BE%E4%BB%A5%E6%B5%8B%E8%AF%95%E3%80%81%E7%BB%B4%E6%8A%A4%E5%92%8C%E7%90%86%E8%A7%A3%E3%80%82%E7%9B%B8%E5%8F%8D%E7%9A%84%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E7%94%A8-getVal-%E5%92%8CsetVal-hello-%E5%8E%BB%E5%88%9B%E9%80%A0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84accessor%E5%87%BD%E6%95%B0"><span class="nav-number">24.2.</span> <span class="nav-text">24.2 不要使用JavaScript的getters&#x2F;setters，因为他们会产生副作用，并且难以测试、维护和理解。相反的，你可以用 getVal()和setVal(&#39;hello&#39;)去创造你自己的accessor函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-3-%E5%A6%82%E6%9E%9C%E5%B1%9E%E6%80%A7-%E6%96%B9%E6%B3%95%E6%98%AFboolean%EF%BC%8C-%E7%94%A8-isVal-%E6%88%96-hasVal"><span class="nav-number">24.3.</span> <span class="nav-text">24.3 如果属性&#x2F;方法是boolean， 用 isVal() 或 hasVal()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-4-%E7%94%A8get-%E5%92%8Cset-%E5%87%BD%E6%95%B0%E6%98%AF%E5%8F%AF%E4%BB%A5%E7%9A%84%EF%BC%8C%E4%BD%86%E6%98%AF%E8%A6%81%E4%B8%80%E8%B5%B7%E7%94%A8"><span class="nav-number">24.4.</span> <span class="nav-text">24.4 用get()和set()函数是可以的，但是要一起用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Events"><span class="nav-number">25.</span> <span class="nav-text">Events</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#25-1-%E9%80%9A%E8%BF%87%E5%93%88%E5%B8%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%8E%9F%E5%A7%8B%E5%80%BC%E5%90%91%E4%BA%8B%E4%BB%B6%E8%A3%85%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%97%B6-%E4%B8%8D%E8%AE%BA%E6%98%AFDOM%E4%BA%8B%E4%BB%B6%E8%BF%98%E6%98%AF%E5%83%8FBackbone%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%BE%88%E5%A4%9A%E5%B1%9E%E6%80%A7-%E3%80%82-%E8%BF%99%E4%BD%BF%E5%BE%97%E5%90%8E%E7%BB%AD%E7%9A%84%E8%B4%A1%E7%8C%AE%E8%80%85%EF%BC%88%E7%A8%8B%E5%BA%8F%E5%91%98%EF%BC%89%E5%90%91%E8%BF%99%E4%B8%AA%E4%BA%8B%E4%BB%B6%E8%A3%85%E8%BD%BD%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E6%97%B6%E4%B8%8D%E7%94%A8%E5%8E%BB%E6%89%BE%E6%88%96%E8%80%85%E6%9B%B4%E6%96%B0%E6%AF%8F%E4%B8%AA%E5%A4%84%E7%90%86%E5%99%A8%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9A"><span class="nav-number">25.1.</span> <span class="nav-text">25.1 通过哈希而不是原始值向事件装载数据时(不论是DOM事件还是像Backbone事件的很多属性)。 这使得后续的贡献者（程序员）向这个事件装载更多的数据时不用去找或者更新每个处理器。例如：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery%E5%AF%B9%E8%B1%A1"><span class="nav-number">26.</span> <span class="nav-text">jQuery对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#26-1-jQuery%E5%AF%B9%E8%B1%A1%E7%94%A8-%E5%8F%98%E9%87%8F%E8%A1%A8%E7%A4%BA%E3%80%82"><span class="nav-number">26.1.</span> <span class="nav-text">26.1 jQuery对象用$变量表示。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-2-%E6%9A%82%E5%AD%98jQuery%E6%9F%A5%E6%89%BE"><span class="nav-number">26.2.</span> <span class="nav-text">26.2 暂存jQuery查找</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-3-DOM%E6%9F%A5%E6%89%BE%E7%94%A8%E5%B1%82%E5%8F%A0%E5%BC%8F-%E2%80%98-sidebar-ul%E2%80%99-%E6%88%96-%E7%88%B6%E8%8A%82%E7%82%B9-%E5%AD%90%E8%8A%82%E7%82%B9-%E2%80%98-sidebar-ul%E2%80%99-jsPerf"><span class="nav-number">26.3.</span> <span class="nav-text">26.3 DOM查找用层叠式$(‘.sidebar ul’) 或 父节点 &gt; 子节点 $(‘.sidebar &gt; ul’). jsPerf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-4-%E7%94%A8jQuery%E5%AF%B9%E8%B1%A1%E6%9F%A5%E8%AF%A2%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84find%E6%96%B9%E6%B3%95%E6%9F%A5%E8%AF%A2"><span class="nav-number">26.4.</span> <span class="nav-text">26.4 用jQuery对象查询作用域的find方法查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES5-%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="nav-number">27.</span> <span class="nav-text">ES5 兼容性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#27-1-%E5%8F%82%E8%80%83Kangax%E7%9A%84ES5%E5%85%BC%E5%AE%B9%E6%80%A7%E5%88%97%E8%A1%A8"><span class="nav-number">27.1.</span> <span class="nav-text">27.1 参考Kangax的ES5兼容性列表.</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECMAScript-6-ES-2015-Styles"><span class="nav-number">28.</span> <span class="nav-text">ECMAScript 6+ (ES 2015+) Styles</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#28-1-%E8%BF%99%E6%98%AF%E6%94%B6%E9%9B%86%E5%88%B0%E7%9A%84%E5%90%84%E7%A7%8DES6%E7%89%B9%E6%80%A7%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="nav-number">28.1.</span> <span class="nav-text">28.1 这是收集到的各种ES6特性的链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-2-%E4%B8%8D%E8%A6%81%E7%94%A8TC39-proposals%EF%BC%8C-TC39%E8%BF%98%E6%B2%A1%E6%9C%89%E5%88%B0-stage-3%E3%80%82"><span class="nav-number">28.2.</span> <span class="nav-text">28.2 不要用TC39 proposals， TC39还没有到 stage 3。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Standard-Library"><span class="nav-number">29.</span> <span class="nav-text">Standard Library</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#29-1-%E7%94%A8-Number-isNaN-%E4%BB%A3%E6%9B%BF%E5%85%A8%E5%B1%80%E7%9A%84-isNaN-eslint-no-restricted-globals"><span class="nav-number">29.1.</span> <span class="nav-text">29.1 用 Number.isNaN 代替全局的 isNaN. eslint: no-restricted-globals</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#29-2-%E7%94%A8-Number-isFinite-%E4%BB%A3%E6%9B%BF-isFinite-eslint-no-restricted-globals"><span class="nav-number">29.2.</span> <span class="nav-text">29.2 用 Number.isFinite 代替 isFinite. eslint: no-restricted-globals</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Testing"><span class="nav-number">30.</span> <span class="nav-text">Testing</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#30-1-Yup"><span class="nav-number">30.1.</span> <span class="nav-text">30.1 Yup.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#30-2-No-but-seriously"><span class="nav-number">30.2.</span> <span class="nav-text">30.2 No, but seriously:</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lfangq"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">lfangq</p>
  <div class="site-description" itemprop="description">记录生活中的点点滴滴</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lfangq</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script>
    <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/clicklove.js"></script>
</body>
</html>
